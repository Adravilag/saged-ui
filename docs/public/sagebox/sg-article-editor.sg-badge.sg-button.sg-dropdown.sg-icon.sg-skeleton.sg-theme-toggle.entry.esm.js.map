{"version":3,"file":"sg-article-editor.sg-badge.sg-button.sg-dropdown.sg-icon.sg-skeleton.sg-theme-toggle.entry.esm.js","sources":["packages/article-editor/src/utils/types.ts","packages/article-editor/src/utils/editor-modes.ts","packages/article-editor/src/utils/toolbar-actions.ts","packages/article-editor/src/utils/i18n.ts","packages/article-editor/src/article-editor.css?tag=sg-article-editor&encapsulation=shadow","packages/article-editor/src/article-editor.tsx","packages/badge/src/components/badge/badge.css?tag=sg-badge&encapsulation=shadow","packages/badge/src/components/badge/badge.tsx","packages/button/src/components/button/button.css?tag=sg-button&encapsulation=shadow","packages/button/src/components/button/button.tsx","packages/dropdown/src/components/dropdown/dropdown.css?tag=sg-dropdown&encapsulation=shadow","packages/dropdown/src/components/dropdown/dropdown.tsx","packages/icons/src/components/svg-icon/icons/builtin.ts","packages/icons/src/components/svg-icon/svg-icon.css?tag=sg-icon&encapsulation=shadow","packages/icons/src/components/svg-icon/svg-icon.tsx","packages/skeleton/src/components/skeleton/skeleton.css?tag=sg-skeleton&encapsulation=shadow","packages/skeleton/src/components/skeleton/skeleton.tsx","packages/theme-toggle/src/components/theme-toggle/theme-toggle.css?tag=sg-theme-toggle&encapsulation=shadow","packages/theme-toggle/src/components/theme-toggle/theme-toggle.tsx"],"sourcesContent":["/**\n * @adravilag/ui - Rich Editor Types\n * Type definitions for the headless rich editor component\n */\n\n// =====================================================\n// EDITOR MODES\n// =====================================================\n\n/** Content syntax type */\nexport type ContentType = 'html' | 'markdown';\n\n/** View mode for the editor */\nexport type ViewMode = 'editor' | 'preview' | 'split';\n\n/** @deprecated Use ContentType and ViewMode separately */\nexport type EditorMode = ContentType;\n\nexport interface ContentTypeConfig {\n  type: ContentType;\n  label: string;\n  icon: string;\n}\n\nexport interface ViewModeConfig {\n  mode: ViewMode;\n  label: string;\n  icon: string;\n}\n\nexport const CONTENT_TYPES: ContentTypeConfig[] = [\n  { type: 'html', label: 'HTML', icon: 'code' },\n  { type: 'markdown', label: 'Markdown', icon: 'markdown' },\n];\n\nexport const VIEW_MODES: ViewModeConfig[] = [\n  { mode: 'editor', label: 'Editor', icon: 'edit' },\n  { mode: 'preview', label: 'Preview', icon: 'eye' },\n  { mode: 'split', label: 'Split', icon: 'columns' },\n];\n\n/** @deprecated Use CONTENT_TYPES and VIEW_MODES instead */\nexport const EDITOR_MODES = CONTENT_TYPES.map(c => ({ mode: c.type, label: c.label, icon: c.icon }));\n\n// =====================================================\n// TOOLBAR ACTIONS\n// =====================================================\n\nexport type ToolbarAction =\n  | 'bold'\n  | 'italic'\n  | 'underline'\n  | 'strikethrough'\n  | 'code'\n  | 'link'\n  | 'image'\n  | 'h1'\n  | 'h2'\n  | 'h3'\n  | 'ul'\n  | 'ol'\n  | 'quote'\n  | 'hr';\n\nexport interface ToolbarButton {\n  action: ToolbarAction;\n  label: string;\n  icon: string;\n  shortcut?: string;\n}\n\nexport const DEFAULT_TOOLBAR_BUTTONS: ToolbarButton[] = [\n  { action: 'bold', label: 'Bold', icon: 'bold', shortcut: 'Ctrl+B' },\n  { action: 'italic', label: 'Italic', icon: 'italic', shortcut: 'Ctrl+I' },\n  { action: 'underline', label: 'Underline', icon: 'underline', shortcut: 'Ctrl+U' },\n  { action: 'strikethrough', label: 'Strikethrough', icon: 'strikethrough' },\n  { action: 'code', label: 'Code', icon: 'code' },\n  { action: 'link', label: 'Link', icon: 'link', shortcut: 'Ctrl+K' },\n  { action: 'image', label: 'Image', icon: 'image' },\n  { action: 'h1', label: 'Heading 1', icon: 'heading' },\n  { action: 'h2', label: 'Heading 2', icon: 'heading' },\n  { action: 'h3', label: 'Heading 3', icon: 'heading' },\n  { action: 'ul', label: 'Bullet List', icon: 'list-ul' },\n  { action: 'ol', label: 'Numbered List', icon: 'list-ol' },\n  { action: 'quote', label: 'Quote', icon: 'quote-right' },\n  { action: 'hr', label: 'Horizontal Rule', icon: 'minus' },\n];\n\n// =====================================================\n// MEDIA LIBRARY\n// =====================================================\n\nexport interface MediaItem {\n  id: string;\n  filename: string;\n  url: string;\n  thumbnailUrl?: string;\n  type: 'image' | 'video' | 'audio' | 'document';\n  mimeType: string;\n  size: number;\n  width?: number;\n  height?: number;\n  createdAt: string;\n  alt?: string;\n}\n\nexport interface MediaUploadProgress {\n  filename: string;\n  progress: number;\n  status: 'pending' | 'uploading' | 'complete' | 'error';\n  error?: string;\n}\n\n/**\n * Media adapter interface - implement this to connect your own backend\n */\nexport interface MediaAdapter {\n  /**\n   * Fetch list of media items from your backend\n   */\n  getMediaItems: (search?: string) => Promise<MediaItem[]>;\n\n  /**\n   * Upload a file to your backend\n   */\n  uploadFile: (file: File, onProgress?: (progress: number) => void) => Promise<MediaItem>;\n\n  /**\n   * Delete a media item from your backend\n   */\n  deleteItem?: (id: string) => Promise<void>;\n}\n\n// =====================================================\n// EDITOR CONFIGURATION\n// =====================================================\n\nexport interface RichEditorConfig {\n  /**\n   * Initial content type (syntax)\n   * @default 'html'\n   */\n  initialContentType?: ContentType;\n\n  /**\n   * Initial view mode\n   * @default 'editor'\n   */\n  initialViewMode?: ViewMode;\n\n  /**\n   * Available content types for the editor\n   * @default ['html', 'markdown']\n   */\n  availableContentTypes?: ContentType[];\n\n  /**\n   * Available view modes\n   * @default ['editor', 'preview', 'split']\n   */\n  availableViewModes?: ViewMode[];\n\n  /**\n   * Toolbar buttons to display\n   * @default DEFAULT_TOOLBAR_BUTTONS\n   */\n  toolbarButtons?: ToolbarButton[];\n\n  /**\n   * Placeholder text for the editor\n   */\n  placeholder?: string;\n\n  /**\n   * Minimum height of the editor in pixels\n   * @default 400\n   */\n  minHeight?: number;\n\n  /**\n   * Enable spell checking\n   * @default true\n   */\n  spellCheck?: boolean;\n\n  /**\n   * Enable word/character count display\n   * @default true\n   */\n  showWordCount?: boolean;\n\n  /**\n   * Enable external preview window feature\n   * @default true\n   */\n  enableExternalPreview?: boolean;\n\n  /**\n   * Media adapter for handling file uploads/library\n   * If not provided, media features are disabled\n   */\n  mediaAdapter?: MediaAdapter;\n\n  /**\n   * Custom CSS class for theming\n   */\n  customClass?: string;\n}\n\n// =====================================================\n// EDITOR EVENTS\n// =====================================================\n\nexport interface EditorChangeEvent {\n  value: string;\n  contentType: ContentType;\n  viewMode: ViewMode;\n  wordCount: number;\n  charCount: number;\n}\n\nexport interface ContentTypeChangeEvent {\n  previousType: ContentType;\n  newType: ContentType;\n}\n\nexport interface ViewModeChangeEvent {\n  previousMode: ViewMode;\n  newMode: ViewMode;\n}\n\n/** @deprecated Use ContentTypeChangeEvent or ViewModeChangeEvent */\nexport interface EditorModeChangeEvent {\n  previousMode: ContentType;\n  newMode: ContentType;\n}\n\nexport interface MediaInsertEvent {\n  media: MediaItem;\n  insertedHtml: string;\n}\n\n// =====================================================\n// TEXT SELECTION\n// =====================================================\n\nexport interface TextSelection {\n  start: number;\n  end: number;\n  text: string;\n}\n\n// =====================================================\n// EDITOR STATE\n// =====================================================\n\nexport interface EditorState {\n  content: string;\n  contentType: ContentType;\n  viewMode: ViewMode;\n  selection: TextSelection | null;\n  isDirty: boolean;\n  wordCount: number;\n  charCount: number;\n  isMediaLibraryOpen: boolean;\n  isExternalPreviewOpen: boolean;\n}\n\nexport const createInitialState = (\n  initialContent = '',\n  initialContentType: ContentType = 'html',\n  initialViewMode: ViewMode = 'editor'\n): EditorState => ({\n  content: initialContent,\n  contentType: initialContentType,\n  viewMode: initialViewMode,\n  selection: null,\n  isDirty: false,\n  wordCount: countWords(initialContent),\n  charCount: initialContent.length,\n  isMediaLibraryOpen: false,\n  isExternalPreviewOpen: false,\n});\n\n// =====================================================\n// UTILITY FUNCTIONS\n// =====================================================\n\n/**\n * Count words in a string (strips HTML tags first)\n */\nexport function countWords(text: string): number {\n  const stripped = text.replace(/<[^>]*>/g, ' ').trim();\n  if (!stripped) return 0;\n  return stripped.split(/\\s+/).filter(Boolean).length;\n}\n\n/**\n * Count characters in a string (strips HTML tags)\n */\nexport function countChars(text: string): number {\n  return text.replace(/<[^>]*>/g, '').length;\n}\n","/**\n * @adravilag/ui - Editor Modes Utilities\n * Headless functions for HTML ↔ Markdown conversion\n */\n\nimport { ContentType } from './types';\n\n// =====================================================\n// HTML TO MARKDOWN CONVERSION\n// =====================================================\n\n/**\n * Convert HTML string to Markdown\n */\nexport function htmlToMarkdown(html: string): string {\n  if (!html || !html.trim()) return '';\n\n  let markdown = html;\n\n  // Headers\n  markdown = markdown.replace(/<h1[^>]*>(.*?)<\\/h1>/gi, '# $1\\n\\n');\n  markdown = markdown.replace(/<h2[^>]*>(.*?)<\\/h2>/gi, '## $1\\n\\n');\n  markdown = markdown.replace(/<h3[^>]*>(.*?)<\\/h3>/gi, '### $1\\n\\n');\n  markdown = markdown.replace(/<h4[^>]*>(.*?)<\\/h4>/gi, '#### $1\\n\\n');\n  markdown = markdown.replace(/<h5[^>]*>(.*?)<\\/h5>/gi, '##### $1\\n\\n');\n  markdown = markdown.replace(/<h6[^>]*>(.*?)<\\/h6>/gi, '###### $1\\n\\n');\n\n  // Bold and italic\n  markdown = markdown.replace(/<strong[^>]*>(.*?)<\\/strong>/gi, '**$1**');\n  markdown = markdown.replace(/<b[^>]*>(.*?)<\\/b>/gi, '**$1**');\n  markdown = markdown.replace(/<em[^>]*>(.*?)<\\/em>/gi, '*$1*');\n  markdown = markdown.replace(/<i[^>]*>(.*?)<\\/i>/gi, '*$1*');\n\n  // Strikethrough\n  markdown = markdown.replace(/<del[^>]*>(.*?)<\\/del>/gi, '~~$1~~');\n  markdown = markdown.replace(/<s[^>]*>(.*?)<\\/s>/gi, '~~$1~~');\n  markdown = markdown.replace(/<strike[^>]*>(.*?)<\\/strike>/gi, '~~$1~~');\n\n  // Code\n  markdown = markdown.replace(/<code[^>]*>(.*?)<\\/code>/gi, '`$1`');\n  markdown = markdown.replace(/<pre[^>]*><code[^>]*>([\\s\\S]*?)<\\/code><\\/pre>/gi, '```\\n$1\\n```\\n\\n');\n  markdown = markdown.replace(/<pre[^>]*>([\\s\\S]*?)<\\/pre>/gi, '```\\n$1\\n```\\n\\n');\n\n  // Links\n  markdown = markdown.replace(/<a[^>]*href=[\"']([^\"']*)[\"'][^>]*>(.*?)<\\/a>/gi, '[$2]($1)');\n\n  // Images\n  markdown = markdown.replace(/<img[^>]*src=[\"']([^\"']*)[\"'][^>]*alt=[\"']([^\"']*)[\"'][^>]*\\/?>/gi, '![$2]($1)');\n  markdown = markdown.replace(/<img[^>]*alt=[\"']([^\"']*)[\"'][^>]*src=[\"']([^\"']*)[\"'][^>]*\\/?>/gi, '![$1]($2)');\n  markdown = markdown.replace(/<img[^>]*src=[\"']([^\"']*)[\"'][^>]*\\/?>/gi, '![]($1)');\n\n  // Lists\n  markdown = markdown.replace(/<ul[^>]*>([\\s\\S]*?)<\\/ul>/gi, (_, content) => {\n    return content.replace(/<li[^>]*>([\\s\\S]*?)<\\/li>/gi, '- $1\\n') + '\\n';\n  });\n  markdown = markdown.replace(/<ol[^>]*>([\\s\\S]*?)<\\/ol>/gi, (_, content) => {\n    let index = 0;\n    return (\n      content.replace(/<li[^>]*>([\\s\\S]*?)<\\/li>/gi, () => {\n        index++;\n        return `${index}. `;\n      }) + '\\n'\n    );\n  });\n\n  // Blockquotes\n  markdown = markdown.replace(/<blockquote[^>]*>([\\s\\S]*?)<\\/blockquote>/gi, (_, content) => {\n    return (\n      content\n        .split('\\n')\n        .map((line: string) => `> ${line.trim()}`)\n        .join('\\n') + '\\n\\n'\n    );\n  });\n\n  // Horizontal rules\n  markdown = markdown.replace(/<hr[^>]*\\/?>/gi, '\\n---\\n\\n');\n\n  // Paragraphs and line breaks\n  markdown = markdown.replace(/<p[^>]*>([\\s\\S]*?)<\\/p>/gi, '$1\\n\\n');\n  markdown = markdown.replace(/<br[^>]*\\/?>/gi, '\\n');\n  markdown = markdown.replace(/<div[^>]*>([\\s\\S]*?)<\\/div>/gi, '$1\\n');\n\n  // Clean up remaining tags\n  markdown = markdown.replace(/<[^>]+>/g, '');\n\n  // Decode HTML entities\n  markdown = decodeHtmlEntities(markdown);\n\n  // Clean up whitespace\n  markdown = markdown.replace(/\\n{3,}/g, '\\n\\n').trim();\n\n  return markdown;\n}\n\n// =====================================================\n// MARKDOWN TO HTML CONVERSION\n// =====================================================\n\n/**\n * Convert Markdown string to HTML\n */\nexport function markdownToHtml(markdown: string): string {\n  if (!markdown || !markdown.trim()) return '';\n\n  let html = markdown;\n\n  // Store code blocks to protect them from other processing\n  const codeBlocks: string[] = [];\n\n  // Helper to create code block HTML\n  const createCodeBlock = (lang: string, code: string): string => {\n    const escapedCode = code.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    const langLabel = lang ? `<span class=\"code-lang\">${lang}</span>` : '';\n    const langAttr = lang ? ` class=\"language-${lang}\" data-language=\"${lang}\"` : '';\n    return `<div class=\"code-block\">${langLabel}<pre><code${langAttr}>${escapedCode}</code></pre></div>`;\n  };\n\n  // Code blocks (fenced with ```) - process FIRST to protect code from other transformations\n  // Use a more permissive regex that handles various edge cases\n  html = html.replace(/```(\\w*)\\s*\\n([\\s\\S]*?)```/g, (_, lang, code) => {\n    const index = codeBlocks.length;\n    codeBlocks.push(createCodeBlock(lang || '', code.replace(/\\n$/, '')));\n    return `\\n___CODEBLOCK_${index}___\\n`;\n  });\n\n  // Fallback: Code blocks without closing ``` (treat rest of content as code)\n  html = html.replace(/```(\\w*)\\s*\\n([\\s\\S]+)$/g, (match, lang, code) => {\n    // Only match if no closing ``` was found (not already processed)\n    if (code.includes('___CODEBLOCK_')) return match;\n    const index = codeBlocks.length;\n    codeBlocks.push(createCodeBlock(lang || '', code.replace(/\\n$/, '')));\n    return `\\n___CODEBLOCK_${index}___\\n`;\n  });\n\n  // Escape HTML entities (but not in code blocks which are already protected)\n  html = escapeHtml(html);\n\n  // Inline code (single backticks, not triple)\n  html = html.replace(/`([^`\\n]+)`/g, '<code>$1</code>');\n\n  // Tables (before other block processing)\n  html = html.replace(/^(\\|.+\\|)\\n(\\|[\\s\\-:|]+\\|)\\n((?:\\|.+\\|\\n?)+)/gm, (_, headerRow, separatorRow, bodyRows) => {\n    // Parse header\n    const headers = headerRow\n      .split('|')\n      .slice(1, -1)\n      .map((cell: string) => `<th>${cell.trim()}</th>`)\n      .join('');\n\n    // Parse alignment from separator row\n    const alignments = separatorRow\n      .split('|')\n      .slice(1, -1)\n      .map((cell: string) => {\n        const trimmed = cell.trim();\n        if (trimmed.startsWith(':') && trimmed.endsWith(':')) return 'center';\n        if (trimmed.endsWith(':')) return 'right';\n        return 'left';\n      });\n\n    // Parse body rows\n    const rows = bodyRows\n      .trim()\n      .split('\\n')\n      .map((row: string) => {\n        const cells = row\n          .split('|')\n          .slice(1, -1)\n          .map((cell: string, i: number) => {\n            const align = alignments[i] || 'left';\n            return `<td style=\"text-align: ${align}\">${cell.trim()}</td>`;\n          })\n          .join('');\n        return `<tr>${cells}</tr>`;\n      })\n      .join('');\n\n    return `<table><thead><tr>${headers}</tr></thead><tbody>${rows}</tbody></table>`;\n  });\n\n  // Headers with auto-generated IDs for anchor links\n  html = html.replace(/^###### (.+)$/gm, (_, text) => `<h6 id=\"${slugify(text)}\">${text}</h6>`);\n  html = html.replace(/^##### (.+)$/gm, (_, text) => `<h5 id=\"${slugify(text)}\">${text}</h5>`);\n  html = html.replace(/^#### (.+)$/gm, (_, text) => `<h4 id=\"${slugify(text)}\">${text}</h4>`);\n  html = html.replace(/^### (.+)$/gm, (_, text) => `<h3 id=\"${slugify(text)}\">${text}</h3>`);\n  html = html.replace(/^## (.+)$/gm, (_, text) => `<h2 id=\"${slugify(text)}\">${text}</h2>`);\n  html = html.replace(/^# (.+)$/gm, (_, text) => `<h1 id=\"${slugify(text)}\">${text}</h1>`);\n\n  // Bold and italic (order matters!)\n  html = html.replace(/\\*\\*\\*(.+?)\\*\\*\\*/g, '<strong><em>$1</em></strong>');\n  html = html.replace(/\\*\\*(.+?)\\*\\*/g, '<strong>$1</strong>');\n  html = html.replace(/(?<![*\\w])\\*([^*\\n]+)\\*(?![*\\w])/g, '<em>$1</em>');\n  html = html.replace(/___(.+?)___/g, '<strong><em>$1</em></strong>');\n  html = html.replace(/__(.+?)__/g, '<strong>$1</strong>');\n  html = html.replace(/(?<!_)\\b_([^_\\n]+)_\\b(?!_)/g, '<em>$1</em>');\n\n  // Strikethrough\n  html = html.replace(/~~(.+?)~~/g, '<del>$1</del>');\n\n  // Highlight/Mark\n  html = html.replace(/==(.+?)==/g, '<mark>$1</mark>');\n\n  // Subscript and superscript\n  html = html.replace(/~([^~]+)~/g, '<sub>$1</sub>');\n  html = html.replace(/\\^([^^]+)\\^/g, '<sup>$1</sup>');\n\n  // Images (before links)\n  html = html.replace(/!\\[([^\\]]*)\\]\\(([^)\\s]+)(?:\\s+\"([^\"]*)\")?\\)/g, (_, alt, src, title) => {\n    const titleAttr = title ? ` title=\"${title}\"` : '';\n    return `<img src=\"${src}\" alt=\"${alt}\"${titleAttr} />`;\n  });\n\n  // Links with optional title\n  html = html.replace(/\\[([^\\]]+)\\]\\(([^)\\s]+)(?:\\s+\"([^\"]*)\")?\\)/g, (_, text, href, title) => {\n    const titleAttr = title ? ` title=\"${title}\"` : '';\n    return `<a href=\"${href}\"${titleAttr}>${text}</a>`;\n  });\n\n  // Blockquotes (handle multi-line)\n  html = html.replace(/^(?:>\\s?(.*)(?:\\n|$))+/gm, match => {\n    const content = match.replace(/^>\\s?/gm, '').trim();\n    return `<blockquote>${content}</blockquote>`;\n  });\n\n  // Task lists (must be before regular lists)\n  html = html.replace(/^(\\s*)[-*]\\s+\\[x\\]\\s+(.+)$/gm, '$1<li class=\"task-item task-done\"><input type=\"checkbox\" checked disabled /> $2</li>');\n  html = html.replace(/^(\\s*)[-*]\\s+\\[\\s?\\]\\s+(.+)$/gm, '$1<li class=\"task-item\"><input type=\"checkbox\" disabled /> $2</li>');\n\n  // Nested lists - process by indentation levels\n  html = processLists(html);\n\n  // Horizontal rules\n  html = html.replace(/^---$/gm, '<hr />');\n  html = html.replace(/^\\*\\*\\*$/gm, '<hr />');\n  html = html.replace(/^___$/gm, '<hr />');\n\n  // Line breaks (two spaces at end of line or backslash)\n  html = html.replace(/ {2}\\n/g, '<br />\\n');\n  html = html.replace(/\\\\\\n/g, '<br />\\n');\n\n  // Paragraphs - wrap remaining text blocks (not code block placeholders)\n  html = html.replace(/^(?!<[a-z/]|$|\\s*$|___CODEBLOCK_\\d+___)(.+)$/gm, '<p>$1</p>');\n\n  // Clean up empty paragraphs\n  html = html.replace(/<p>\\s*<\\/p>/g, '');\n\n  // Clean up excessive whitespace\n  html = html.replace(/\\n{2,}/g, '\\n').trim();\n\n  // Restore code blocks (handle both wrapped in <p> and standalone)\n  codeBlocks.forEach((block, index) => {\n    // Remove <p> wrapper if present around the placeholder\n    html = html.replace(`<p>___CODEBLOCK_${index}___</p>`, block);\n    html = html.replace(`___CODEBLOCK_${index}___`, block);\n  });\n\n  return html;\n}\n\n/**\n * Generate URL-friendly slug from text\n */\nfunction slugify(text: string): string {\n  return text\n    .toLowerCase()\n    .trim()\n    .replace(/[^\\w\\s-]/g, '') // Remove special chars\n    .replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(/-+/g, '-'); // Replace multiple - with single -\n}\n\n/**\n * Process nested lists\n */\nfunction processLists(html: string): string {\n  const lines = html.split('\\n');\n  const result: string[] = [];\n  const listStack: { type: 'ul' | 'ol'; indent: number }[] = [];\n\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n\n    // Check for list items (task items already have <li>)\n    const taskMatch = line.match(/^(\\s*)<li class=\"task-item/);\n    const ulMatch = line.match(/^(\\s*)[-*]\\s+(.+)$/);\n    const olMatch = line.match(/^(\\s*)(\\d+)\\.\\s+(.+)$/);\n\n    if (taskMatch || ulMatch || olMatch) {\n      let indent: number;\n      let content: string;\n      let listType: 'ul' | 'ol';\n\n      if (taskMatch) {\n        // Task items already converted to <li>\n        indent = taskMatch[1].length;\n        listType = 'ul';\n\n        // Handle list opening for task items\n        if (listStack.length === 0 || listStack[listStack.length - 1].indent < indent) {\n          result.push('<ul class=\"task-list\">');\n          listStack.push({ type: 'ul', indent });\n        }\n        result.push(line);\n        continue;\n      } else if (ulMatch) {\n        indent = ulMatch[1].length;\n        content = ulMatch[2];\n        listType = 'ul';\n      } else {\n        indent = olMatch![1].length;\n        content = olMatch![3];\n        listType = 'ol';\n      }\n\n      // Close lists that are deeper than current\n      while (listStack.length > 0 && listStack[listStack.length - 1].indent > indent) {\n        const closed = listStack.pop()!;\n        result.push(`</${closed.type}>`);\n      }\n\n      // Check if we need to open a new list or switch type\n      if (listStack.length === 0) {\n        // Detect if this is a table of contents / index\n        const isTocItem = content.includes('](#') || content.match(/^\\[.+\\]\\(#/);\n        const tocClass = isTocItem ? ' class=\"toc-list\"' : '';\n        result.push(`<${listType}${tocClass}>`);\n        listStack.push({ type: listType, indent });\n      } else if (listStack[listStack.length - 1].indent < indent) {\n        // Nested list\n        result.push(`<${listType}>`);\n        listStack.push({ type: listType, indent });\n      } else if (listStack[listStack.length - 1].type !== listType && listStack[listStack.length - 1].indent === indent) {\n        // Switch list type at same level\n        const closed = listStack.pop()!;\n        result.push(`</${closed.type}>`);\n        result.push(`<${listType}>`);\n        listStack.push({ type: listType, indent });\n      }\n\n      result.push(`<li>${content}</li>`);\n    } else {\n      // Close all open lists when encountering non-list content\n      while (listStack.length > 0) {\n        const closed = listStack.pop()!;\n        result.push(`</${closed.type}>`);\n      }\n      result.push(line);\n    }\n  }\n\n  // Close any remaining open lists\n  while (listStack.length > 0) {\n    const closed = listStack.pop()!;\n    result.push(`</${closed.type}>`);\n  }\n\n  return result.join('\\n');\n}\n\n// =====================================================\n// HELPER FUNCTIONS\n// =====================================================\n\n/**\n * Decode HTML entities\n */\nfunction decodeHtmlEntities(text: string): string {\n  const entities: Record<string, string> = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\",\n    '&nbsp;': ' ',\n    '&mdash;': '—',\n    '&ndash;': '–',\n    '&copy;': '©',\n    '&reg;': '®',\n    '&trade;': '™',\n  };\n\n  return text.replace(/&[^;]+;/g, entity => entities[entity] || entity);\n}\n\n/**\n * Escape HTML special characters\n */\nfunction escapeHtml(text: string): string {\n  // Don't escape, we want to allow HTML in markdown\n  // This is called before processing to handle edge cases\n  return text;\n}\n\n// =====================================================\n// MODE CONVERSION\n// =====================================================\n\n/**\n * Convert content between content types\n */\nexport function convertContent(content: string, fromType: ContentType, toType: ContentType): string {\n  // No conversion needed for same type\n  if (fromType === toType) return content;\n\n  // HTML -> Markdown\n  if (fromType === 'html' && toType === 'markdown') {\n    return htmlToMarkdown(content);\n  }\n\n  // Markdown -> HTML\n  if (fromType === 'markdown' && toType === 'html') {\n    return markdownToHtml(content);\n  }\n\n  return content;\n}\n\n/**\n * Get HTML preview content regardless of current content type\n */\nexport function getPreviewHtml(content: string, contentType: ContentType): string {\n  if (contentType === 'markdown') {\n    return markdownToHtml(content);\n  }\n  return content;\n}\n\n// =====================================================\n// CONTENT SANITIZATION\n// =====================================================\n\n/**\n * Basic HTML sanitization - removes potentially dangerous tags/attributes\n * For production, consider using DOMPurify\n */\nexport function sanitizeHtml(html: string): string {\n  // Remove script tags\n  let sanitized = html.replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '');\n\n  // Remove event handlers\n  sanitized = sanitized.replace(/\\s*on\\w+\\s*=\\s*[\"'][^\"']*[\"']/gi, '');\n\n  // Remove javascript: URLs\n  sanitized = sanitized.replace(/href\\s*=\\s*[\"']javascript:[^\"']*[\"']/gi, 'href=\"#\"');\n\n  // Remove data: URLs in src (potential XSS)\n  sanitized = sanitized.replace(/src\\s*=\\s*[\"']data:[^\"']*[\"']/gi, 'src=\"\"');\n\n  return sanitized;\n}\n","/**\n * @adravilag/ui - Toolbar Actions Utilities\n * Headless functions for text formatting operations\n */\n\nimport { ToolbarAction, TextSelection, ContentType } from './types';\n\n// =====================================================\n// TEXT SELECTION UTILITIES\n// =====================================================\n\n/**\n * Get current text selection from a textarea element\n */\nexport function getTextSelection(textarea: HTMLTextAreaElement): TextSelection {\n  return {\n    start: textarea.selectionStart,\n    end: textarea.selectionEnd,\n    text: textarea.value.substring(textarea.selectionStart, textarea.selectionEnd),\n  };\n}\n\n/**\n * Set text selection in a textarea element\n */\nexport function setTextSelection(textarea: HTMLTextAreaElement, start: number, end: number): void {\n  textarea.focus();\n  textarea.setSelectionRange(start, end);\n}\n\n// =====================================================\n// FORMATTING OPERATIONS (HTML MODE)\n// =====================================================\n\ninterface FormatResult {\n  newContent: string;\n  newSelectionStart: number;\n  newSelectionEnd: number;\n}\n\n/**\n * Apply HTML formatting to selected text\n */\nfunction applyHtmlFormat(content: string, selection: TextSelection, tag: string, attributes: string = ''): FormatResult {\n  const before = content.substring(0, selection.start);\n  const after = content.substring(selection.end);\n  const selectedText = selection.text || 'text';\n\n  const openTag = attributes ? `<${tag} ${attributes}>` : `<${tag}>`;\n  const closeTag = `</${tag}>`;\n  const formatted = `${openTag}${selectedText}${closeTag}`;\n\n  return {\n    newContent: before + formatted + after,\n    newSelectionStart: selection.start + openTag.length,\n    newSelectionEnd: selection.start + openTag.length + selectedText.length,\n  };\n}\n\n/**\n * Apply HTML block formatting (wraps whole line/selection)\n */\nfunction applyHtmlBlockFormat(content: string, selection: TextSelection, tag: string): FormatResult {\n  const before = content.substring(0, selection.start);\n  const after = content.substring(selection.end);\n  const selectedText = selection.text || 'text';\n\n  const formatted = `<${tag}>${selectedText}</${tag}>\\n`;\n\n  return {\n    newContent: before + formatted + after,\n    newSelectionStart: selection.start + tag.length + 2,\n    newSelectionEnd: selection.start + tag.length + 2 + selectedText.length,\n  };\n}\n\n// =====================================================\n// FORMATTING OPERATIONS (MARKDOWN MODE)\n// =====================================================\n\n/**\n * Apply Markdown inline formatting\n */\nfunction applyMarkdownInlineFormat(content: string, selection: TextSelection, wrapper: string): FormatResult {\n  const before = content.substring(0, selection.start);\n  const after = content.substring(selection.end);\n  const selectedText = selection.text || 'text';\n\n  const formatted = `${wrapper}${selectedText}${wrapper}`;\n\n  return {\n    newContent: before + formatted + after,\n    newSelectionStart: selection.start + wrapper.length,\n    newSelectionEnd: selection.start + wrapper.length + selectedText.length,\n  };\n}\n\n/**\n * Apply Markdown block formatting (prefix-based)\n */\nfunction applyMarkdownBlockFormat(content: string, selection: TextSelection, prefix: string): FormatResult {\n  const before = content.substring(0, selection.start);\n  const after = content.substring(selection.end);\n  const selectedText = selection.text || 'text';\n\n  // Check if we're at the start of a line\n  const needsNewline = before.length > 0 && !before.endsWith('\\n');\n  const linePrefix = needsNewline ? '\\n' : '';\n\n  const formatted = `${linePrefix}${prefix}${selectedText}`;\n\n  return {\n    newContent: before + formatted + after,\n    newSelectionStart: selection.start + linePrefix.length + prefix.length,\n    newSelectionEnd: selection.start + linePrefix.length + prefix.length + selectedText.length,\n  };\n}\n\n// =====================================================\n// LINK AND IMAGE INSERTION\n// =====================================================\n\n/**\n * Insert a link in HTML mode\n */\nfunction insertHtmlLink(content: string, selection: TextSelection, url: string = 'https://'): FormatResult {\n  return applyHtmlFormat(content, selection, 'a', `href=\"${url}\"`);\n}\n\n/**\n * Insert a link in Markdown mode\n */\nfunction insertMarkdownLink(content: string, selection: TextSelection, url: string = 'https://'): FormatResult {\n  const before = content.substring(0, selection.start);\n  const after = content.substring(selection.end);\n  const linkText = selection.text || 'link text';\n\n  const formatted = `[${linkText}](${url})`;\n\n  return {\n    newContent: before + formatted + after,\n    newSelectionStart: selection.start + 1,\n    newSelectionEnd: selection.start + 1 + linkText.length,\n  };\n}\n\n/**\n * Insert an image in HTML mode\n */\nfunction insertHtmlImage(content: string, selection: TextSelection, url: string, alt: string = ''): FormatResult {\n  const before = content.substring(0, selection.start);\n  const after = content.substring(selection.end);\n  const altText = alt || selection.text || 'image';\n\n  const formatted = `<img src=\"${url}\" alt=\"${altText}\" />`;\n\n  return {\n    newContent: before + formatted + after,\n    newSelectionStart: selection.start + formatted.length,\n    newSelectionEnd: selection.start + formatted.length,\n  };\n}\n\n/**\n * Insert an image in Markdown mode\n */\nfunction insertMarkdownImage(content: string, selection: TextSelection, url: string, alt: string = ''): FormatResult {\n  const before = content.substring(0, selection.start);\n  const after = content.substring(selection.end);\n  const altText = alt || selection.text || 'image';\n\n  const formatted = `![${altText}](${url})`;\n\n  return {\n    newContent: before + formatted + after,\n    newSelectionStart: selection.start + formatted.length,\n    newSelectionEnd: selection.start + formatted.length,\n  };\n}\n\n// =====================================================\n// MAIN ACTION DISPATCHER\n// =====================================================\n\nexport interface ApplyActionOptions {\n  content: string;\n  selection: TextSelection;\n  mode: ContentType;\n  action: ToolbarAction;\n  url?: string;\n  alt?: string;\n}\n\n/**\n * Apply a toolbar action to the content\n */\nexport function applyToolbarAction(options: ApplyActionOptions): FormatResult {\n  const { content, selection, mode, action, url, alt } = options;\n  const isMarkdown = mode === 'markdown';\n\n  switch (action) {\n    // Inline formatting\n    case 'bold':\n      return isMarkdown ? applyMarkdownInlineFormat(content, selection, '**') : applyHtmlFormat(content, selection, 'strong');\n\n    case 'italic':\n      return isMarkdown ? applyMarkdownInlineFormat(content, selection, '*') : applyHtmlFormat(content, selection, 'em');\n\n    case 'underline':\n      return isMarkdown ? applyMarkdownInlineFormat(content, selection, '<u>') : applyHtmlFormat(content, selection, 'u');\n\n    case 'strikethrough':\n      return isMarkdown ? applyMarkdownInlineFormat(content, selection, '~~') : applyHtmlFormat(content, selection, 'del');\n\n    case 'code':\n      return isMarkdown ? applyMarkdownInlineFormat(content, selection, '`') : applyHtmlFormat(content, selection, 'code');\n\n    // Block formatting\n    case 'h1':\n      return isMarkdown ? applyMarkdownBlockFormat(content, selection, '# ') : applyHtmlBlockFormat(content, selection, 'h1');\n\n    case 'h2':\n      return isMarkdown ? applyMarkdownBlockFormat(content, selection, '## ') : applyHtmlBlockFormat(content, selection, 'h2');\n\n    case 'h3':\n      return isMarkdown ? applyMarkdownBlockFormat(content, selection, '### ') : applyHtmlBlockFormat(content, selection, 'h3');\n\n    case 'ul':\n      return isMarkdown ? applyMarkdownBlockFormat(content, selection, '- ') : applyHtmlFormat(content, selection, 'li');\n\n    case 'ol':\n      return isMarkdown ? applyMarkdownBlockFormat(content, selection, '1. ') : applyHtmlFormat(content, selection, 'li');\n\n    case 'quote':\n      return isMarkdown ? applyMarkdownBlockFormat(content, selection, '> ') : applyHtmlBlockFormat(content, selection, 'blockquote');\n\n    case 'hr': {\n      const before = content.substring(0, selection.start);\n      const after = content.substring(selection.end);\n      const hrText = isMarkdown ? '\\n\\n---\\n\\n' : '\\n<hr />\\n';\n      return {\n        newContent: before + hrText + after,\n        newSelectionStart: selection.start + hrText.length,\n        newSelectionEnd: selection.start + hrText.length,\n      };\n    }\n\n    // Links and images\n    case 'link':\n      return isMarkdown ? insertMarkdownLink(content, selection, url) : insertHtmlLink(content, selection, url);\n\n    case 'image':\n      return isMarkdown ? insertMarkdownImage(content, selection, url || '', alt) : insertHtmlImage(content, selection, url || '', alt);\n\n    default:\n      return {\n        newContent: content,\n        newSelectionStart: selection.start,\n        newSelectionEnd: selection.end,\n      };\n  }\n}\n\n// =====================================================\n// KEYBOARD SHORTCUTS\n// =====================================================\n\nexport interface KeyboardShortcut {\n  key: string;\n  ctrl?: boolean;\n  shift?: boolean;\n  alt?: boolean;\n  action: ToolbarAction;\n}\n\nexport const DEFAULT_SHORTCUTS: KeyboardShortcut[] = [\n  { key: 'b', ctrl: true, action: 'bold' },\n  { key: 'i', ctrl: true, action: 'italic' },\n  { key: 'u', ctrl: true, action: 'underline' },\n  { key: 'k', ctrl: true, action: 'link' },\n  { key: '1', ctrl: true, shift: true, action: 'h1' },\n  { key: '2', ctrl: true, shift: true, action: 'h2' },\n  { key: '3', ctrl: true, shift: true, action: 'h3' },\n];\n\n/**\n * Check if a keyboard event matches a shortcut\n */\nexport function matchesShortcut(event: KeyboardEvent, shortcut: KeyboardShortcut): boolean {\n  const ctrlMatch = shortcut.ctrl ? event.ctrlKey || event.metaKey : !event.ctrlKey && !event.metaKey;\n  const shiftMatch = shortcut.shift ? event.shiftKey : !event.shiftKey;\n  const altMatch = shortcut.alt ? event.altKey : !event.altKey;\n\n  return event.key.toLowerCase() === shortcut.key.toLowerCase() && ctrlMatch && shiftMatch && altMatch;\n}\n\n/**\n * Find matching action for a keyboard event\n */\nexport function getActionFromKeyboard(event: KeyboardEvent, shortcuts: KeyboardShortcut[] = DEFAULT_SHORTCUTS): ToolbarAction | null {\n  for (const shortcut of shortcuts) {\n    if (matchesShortcut(event, shortcut)) {\n      return shortcut.action;\n    }\n  }\n  return null;\n}\n","﻿/**\n * @adravilag/ui - Article Editor Internationalization\n * Multi-language support for the editor UI\n */\n\nexport type SupportedLocale = 'en' | 'es' | 'fr' | 'de' | 'pt' | 'it' | 'zh' | 'ja' | 'ko' | 'ar';\n\nexport interface EditorTranslations {\n  modes: {\n    html: string;\n    markdown: string;\n    editor: string;\n    preview: string;\n    split: string;\n  };\n  toolbar: {\n    bold: string;\n    italic: string;\n    underline: string;\n    strikethrough: string;\n    code: string;\n    link: string;\n    image: string;\n    heading1: string;\n    heading2: string;\n    heading3: string;\n    bulletList: string;\n    numberedList: string;\n    quote: string;\n    horizontalRule: string;\n  };\n  status: {\n    words: string;\n    characters: string;\n    wordsPlural: string;\n    charactersPlural: string;\n  };\n  actions: {\n    externalPreview: string;\n    externalPreviewOpen: string;\n    openMediaLibrary: string;\n  };\n  placeholders: {\n    startWriting: string;\n  };\n  preview: {\n    title: string;\n    empty: string;\n  };\n  aria: {\n    editor: string;\n    toolbar: string;\n    modeSelector: string;\n    formatToolbar: string;\n    preview: string;\n  };\n}\n\nconst translations: Record<SupportedLocale, EditorTranslations> = {\n  en: {\n    modes: { html: 'HTML', markdown: 'Markdown', editor: 'Editor', preview: 'Preview', split: 'Split' },\n    toolbar: {\n      bold: 'Bold',\n      italic: 'Italic',\n      underline: 'Underline',\n      strikethrough: 'Strikethrough',\n      code: 'Code',\n      link: 'Link',\n      image: 'Image',\n      heading1: 'Heading 1',\n      heading2: 'Heading 2',\n      heading3: 'Heading 3',\n      bulletList: 'Bullet List',\n      numberedList: 'Numbered List',\n      quote: 'Quote',\n      horizontalRule: 'Horizontal Rule',\n    },\n    status: { words: 'word', characters: 'character', wordsPlural: 'words', charactersPlural: 'characters' },\n    actions: { externalPreview: 'External Preview', externalPreviewOpen: 'External preview open', openMediaLibrary: 'Open Media Library' },\n    placeholders: { startWriting: 'Start writing...' },\n    preview: { title: 'Preview', empty: 'Nothing to preview yet. Start writing!' },\n    aria: {\n      editor: 'Rich text editor',\n      toolbar: 'Editor toolbar',\n      modeSelector: 'Editor mode selector',\n      formatToolbar: 'Text formatting toolbar',\n      preview: 'Content preview',\n    },\n  },\n  es: {\n    modes: { html: 'HTML', markdown: 'Markdown', editor: 'Editor', preview: 'Vista previa', split: 'Dividido' },\n    toolbar: {\n      bold: 'Negrita',\n      italic: 'Cursiva',\n      underline: 'Subrayado',\n      strikethrough: 'Tachado',\n      code: 'Codigo',\n      link: 'Enlace',\n      image: 'Imagen',\n      heading1: 'Titulo 1',\n      heading2: 'Titulo 2',\n      heading3: 'Titulo 3',\n      bulletList: 'Lista con vinetas',\n      numberedList: 'Lista numerada',\n      quote: 'Cita',\n      horizontalRule: 'Linea horizontal',\n    },\n    status: { words: 'palabra', characters: 'caracter', wordsPlural: 'palabras', charactersPlural: 'caracteres' },\n    actions: {\n      externalPreview: 'Vista previa externa',\n      externalPreviewOpen: 'Vista previa externa abierta',\n      openMediaLibrary: 'Abrir biblioteca de medios',\n    },\n    placeholders: { startWriting: 'Empieza a escribir...' },\n    preview: { title: 'Vista previa', empty: 'Nada que previsualizar aun. Empieza a escribir!' },\n    aria: {\n      editor: 'Editor de texto enriquecido',\n      toolbar: 'Barra de herramientas del editor',\n      modeSelector: 'Selector de modo del editor',\n      formatToolbar: 'Barra de formato de texto',\n      preview: 'Vista previa del contenido',\n    },\n  },\n  fr: {\n    modes: { html: 'HTML', markdown: 'Markdown', editor: 'Éditeur', preview: 'Apercu', split: 'Divise' },\n    toolbar: {\n      bold: 'Gras',\n      italic: 'Italique',\n      underline: 'Souligne',\n      strikethrough: 'Barre',\n      code: 'Code',\n      link: 'Lien',\n      image: 'Image',\n      heading1: 'Titre 1',\n      heading2: 'Titre 2',\n      heading3: 'Titre 3',\n      bulletList: 'Liste a puces',\n      numberedList: 'Liste numerotee',\n      quote: 'Citation',\n      horizontalRule: 'Ligne horizontale',\n    },\n    status: { words: 'mot', characters: 'caractere', wordsPlural: 'mots', charactersPlural: 'caracteres' },\n    actions: { externalPreview: 'Apercu externe', externalPreviewOpen: 'Apercu externe ouvert', openMediaLibrary: 'Ouvrir la mediatheque' },\n    placeholders: { startWriting: 'Commencez a ecrire...' },\n    preview: { title: 'Apercu', empty: 'Rien a previsualiser. Commencez a ecrire!' },\n    aria: {\n      editor: 'Editeur de texte riche',\n      toolbar: 'Barre outils editeur',\n      modeSelector: 'Selecteur de mode',\n      formatToolbar: 'Barre de mise en forme',\n      preview: 'Apercu du contenu',\n    },\n  },\n  de: {\n    modes: { html: 'HTML', markdown: 'Markdown', editor: 'Editor', preview: 'Vorschau', split: 'Geteilt' },\n    toolbar: {\n      bold: 'Fett',\n      italic: 'Kursiv',\n      underline: 'Unterstrichen',\n      strikethrough: 'Durchgestrichen',\n      code: 'Code',\n      link: 'Link',\n      image: 'Bild',\n      heading1: 'Uberschrift 1',\n      heading2: 'Uberschrift 2',\n      heading3: 'Uberschrift 3',\n      bulletList: 'Aufzahlungsliste',\n      numberedList: 'Nummerierte Liste',\n      quote: 'Zitat',\n      horizontalRule: 'Horizontale Linie',\n    },\n    status: { words: 'Wort', characters: 'Zeichen', wordsPlural: 'Worter', charactersPlural: 'Zeichen' },\n    actions: { externalPreview: 'Externe Vorschau', externalPreviewOpen: 'Externe Vorschau geoffnet', openMediaLibrary: 'Medienbibliothek offnen' },\n    placeholders: { startWriting: 'Beginnen Sie zu schreiben...' },\n    preview: { title: 'Vorschau', empty: 'Noch nichts zum Vorschauen. Fangen Sie an!' },\n    aria: {\n      editor: 'Rich-Text-Editor',\n      toolbar: 'Editor-Symbolleiste',\n      modeSelector: 'Editor-Modus-Auswahl',\n      formatToolbar: 'Textformatierungs-Symbolleiste',\n      preview: 'Inhaltsvorschau',\n    },\n  },\n  pt: {\n    modes: { html: 'HTML', markdown: 'Markdown', editor: 'Editor', preview: 'Visualizacao', split: 'Dividido' },\n    toolbar: {\n      bold: 'Negrito',\n      italic: 'Italico',\n      underline: 'Sublinhado',\n      strikethrough: 'Riscado',\n      code: 'Codigo',\n      link: 'Link',\n      image: 'Imagem',\n      heading1: 'Titulo 1',\n      heading2: 'Titulo 2',\n      heading3: 'Titulo 3',\n      bulletList: 'Lista com marcadores',\n      numberedList: 'Lista numerada',\n      quote: 'Citacao',\n      horizontalRule: 'Linha horizontal',\n    },\n    status: { words: 'palavra', characters: 'caractere', wordsPlural: 'palavras', charactersPlural: 'caracteres' },\n    actions: {\n      externalPreview: 'Visualizacao externa',\n      externalPreviewOpen: 'Visualizacao externa aberta',\n      openMediaLibrary: 'Abrir biblioteca de midia',\n    },\n    placeholders: { startWriting: 'Comece a escrever...' },\n    preview: { title: 'Visualizacao', empty: 'Nada para visualizar ainda. Comece a escrever!' },\n    aria: {\n      editor: 'Editor de texto rico',\n      toolbar: 'Barra de ferramentas do editor',\n      modeSelector: 'Seletor de modo do editor',\n      formatToolbar: 'Barra de formatacao de texto',\n      preview: 'Visualizacao do conteudo',\n    },\n  },\n  it: {\n    modes: { html: 'HTML', markdown: 'Markdown', editor: 'Editor', preview: 'Anteprima', split: 'Diviso' },\n    toolbar: {\n      bold: 'Grassetto',\n      italic: 'Corsivo',\n      underline: 'Sottolineato',\n      strikethrough: 'Barrato',\n      code: 'Codice',\n      link: 'Link',\n      image: 'Immagine',\n      heading1: 'Titolo 1',\n      heading2: 'Titolo 2',\n      heading3: 'Titolo 3',\n      bulletList: 'Elenco puntato',\n      numberedList: 'Elenco numerato',\n      quote: 'Citazione',\n      horizontalRule: 'Linea orizzontale',\n    },\n    status: { words: 'parola', characters: 'carattere', wordsPlural: 'parole', charactersPlural: 'caratteri' },\n    actions: {\n      externalPreview: 'Anteprima esterna',\n      externalPreviewOpen: 'Anteprima esterna aperta',\n      openMediaLibrary: 'Apri libreria multimediale',\n    },\n    placeholders: { startWriting: 'Inizia a scrivere...' },\n    preview: { title: 'Anteprima', empty: 'Niente da visualizzare. Inizia a scrivere!' },\n    aria: {\n      editor: 'Editor di testo avanzato',\n      toolbar: 'Barra degli strumenti',\n      modeSelector: 'Selettore di modalita',\n      formatToolbar: 'Barra di formattazione',\n      preview: 'Anteprima del contenuto',\n    },\n  },\n  zh: {\n    modes: { html: 'HTML', markdown: 'Markdown', editor: 'Editor', preview: 'Preview', split: 'Split' },\n    toolbar: {\n      bold: 'Bold',\n      italic: 'Italic',\n      underline: 'Underline',\n      strikethrough: 'Strikethrough',\n      code: 'Code',\n      link: 'Link',\n      image: 'Image',\n      heading1: 'Heading 1',\n      heading2: 'Heading 2',\n      heading3: 'Heading 3',\n      bulletList: 'Bullet List',\n      numberedList: 'Numbered List',\n      quote: 'Quote',\n      horizontalRule: 'Horizontal Rule',\n    },\n    status: { words: 'word', characters: 'char', wordsPlural: 'words', charactersPlural: 'chars' },\n    actions: { externalPreview: 'External Preview', externalPreviewOpen: 'External preview open', openMediaLibrary: 'Open Media Library' },\n    placeholders: { startWriting: 'Start writing...' },\n    preview: { title: 'Preview', empty: 'Nothing to preview. Start writing!' },\n    aria: {\n      editor: 'Rich text editor',\n      toolbar: 'Editor toolbar',\n      modeSelector: 'Mode selector',\n      formatToolbar: 'Format toolbar',\n      preview: 'Content preview',\n    },\n  },\n  ja: {\n    modes: { html: 'HTML', markdown: 'Markdown', editor: 'Editor', preview: 'Preview', split: 'Split' },\n    toolbar: {\n      bold: 'Bold',\n      italic: 'Italic',\n      underline: 'Underline',\n      strikethrough: 'Strikethrough',\n      code: 'Code',\n      link: 'Link',\n      image: 'Image',\n      heading1: 'Heading 1',\n      heading2: 'Heading 2',\n      heading3: 'Heading 3',\n      bulletList: 'Bullet List',\n      numberedList: 'Numbered List',\n      quote: 'Quote',\n      horizontalRule: 'Horizontal Rule',\n    },\n    status: { words: 'word', characters: 'char', wordsPlural: 'words', charactersPlural: 'chars' },\n    actions: { externalPreview: 'External Preview', externalPreviewOpen: 'External preview open', openMediaLibrary: 'Open Media Library' },\n    placeholders: { startWriting: 'Start writing...' },\n    preview: { title: 'Preview', empty: 'Nothing to preview. Start writing!' },\n    aria: {\n      editor: 'Rich text editor',\n      toolbar: 'Editor toolbar',\n      modeSelector: 'Mode selector',\n      formatToolbar: 'Format toolbar',\n      preview: 'Content preview',\n    },\n  },\n  ko: {\n    modes: { html: 'HTML', markdown: 'Markdown', editor: 'Editor', preview: 'Preview', split: 'Split' },\n    toolbar: {\n      bold: 'Bold',\n      italic: 'Italic',\n      underline: 'Underline',\n      strikethrough: 'Strikethrough',\n      code: 'Code',\n      link: 'Link',\n      image: 'Image',\n      heading1: 'Heading 1',\n      heading2: 'Heading 2',\n      heading3: 'Heading 3',\n      bulletList: 'Bullet List',\n      numberedList: 'Numbered List',\n      quote: 'Quote',\n      horizontalRule: 'Horizontal Rule',\n    },\n    status: { words: 'word', characters: 'char', wordsPlural: 'words', charactersPlural: 'chars' },\n    actions: { externalPreview: 'External Preview', externalPreviewOpen: 'External preview open', openMediaLibrary: 'Open Media Library' },\n    placeholders: { startWriting: 'Start writing...' },\n    preview: { title: 'Preview', empty: 'Nothing to preview. Start writing!' },\n    aria: {\n      editor: 'Rich text editor',\n      toolbar: 'Editor toolbar',\n      modeSelector: 'Mode selector',\n      formatToolbar: 'Format toolbar',\n      preview: 'Content preview',\n    },\n  },\n  ar: {\n    modes: { html: 'HTML', markdown: 'Markdown', editor: 'Editor', preview: 'Preview', split: 'Split' },\n    toolbar: {\n      bold: 'Bold',\n      italic: 'Italic',\n      underline: 'Underline',\n      strikethrough: 'Strikethrough',\n      code: 'Code',\n      link: 'Link',\n      image: 'Image',\n      heading1: 'Heading 1',\n      heading2: 'Heading 2',\n      heading3: 'Heading 3',\n      bulletList: 'Bullet List',\n      numberedList: 'Numbered List',\n      quote: 'Quote',\n      horizontalRule: 'Horizontal Rule',\n    },\n    status: { words: 'word', characters: 'char', wordsPlural: 'words', charactersPlural: 'chars' },\n    actions: { externalPreview: 'External Preview', externalPreviewOpen: 'External preview open', openMediaLibrary: 'Open Media Library' },\n    placeholders: { startWriting: 'Start writing...' },\n    preview: { title: 'Preview', empty: 'Nothing to preview. Start writing!' },\n    aria: {\n      editor: 'Rich text editor',\n      toolbar: 'Editor toolbar',\n      modeSelector: 'Mode selector',\n      formatToolbar: 'Format toolbar',\n      preview: 'Content preview',\n    },\n  },\n};\n\nexport function getTranslations(locale: SupportedLocale = 'en'): EditorTranslations {\n  return translations[locale] || translations.en;\n}\n\nexport function isRTL(locale: SupportedLocale): boolean {\n  return locale === 'ar';\n}\n\nexport function getSupportedLocales(): SupportedLocale[] {\n  return Object.keys(translations) as SupportedLocale[];\n}\n\nexport function formatCount(count: number, singular: string, plural: string): string {\n  return `${count} ${count === 1 ? singular : plural}`;\n}\n\nexport function detectLocale(): SupportedLocale {\n  if (typeof navigator === 'undefined' || !navigator.language) return 'en';\n  const browserLang = navigator.language.split('-')[0].toLowerCase();\n  const supportedLocales = getSupportedLocales();\n  if (supportedLocales.includes(browserLang as SupportedLocale)) {\n    return browserLang as SupportedLocale;\n  }\n  return 'en';\n}\n","/**\n * @adravilag/ui - Article Editor Styles\n * Modern, clean design with enhanced visual hierarchy\n */\n\n:host {\n  /* Editor dimensions */\n  --editor-min-height: 400px;\n  --editor-border-radius: var(--ui-radius-lg, 12px);\n  --editor-padding: var(--ui-space-4, 16px);\n  --editor-gap: var(--ui-space-3, 12px);\n\n  /* Colors - Uses global tokens with fallbacks */\n  --editor-bg: var(--ui-bg, #ffffff);\n  --editor-bg-secondary: var(--ui-bg-secondary, #f8fafc);\n  --editor-bg-tertiary: var(--ui-bg-tertiary, #f1f5f9);\n  --editor-text: var(--ui-text, #0f172a);\n  --editor-text-secondary: var(--ui-text-secondary, #475569);\n  --editor-text-muted: var(--ui-text-muted, #475569);\n  --editor-border: var(--ui-border, #e2e8f0);\n  --editor-border-focus: var(--ui-border-focus, #6366f1);\n  --editor-accent: var(--ui-accent, #4f46e5);\n  --editor-accent-hover: var(--ui-accent-hover, #4338ca);\n  --editor-accent-light: var(--ui-accent-light, #e0e7ff);\n  --editor-success: var(--ui-success, #22c55e);\n  --editor-warning: var(--ui-warning, #f59e0b);\n\n  /* Typography - Uses global tokens */\n  --editor-font-sans: var(--ui-font-sans, 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif);\n  --editor-font-mono: var(--ui-font-mono, 'JetBrains Mono', 'SF Mono', 'Fira Code', Menlo, Monaco, Consolas, monospace);\n  --editor-font-size: var(--ui-font-size-sm, 14px);\n  --editor-line-height: var(--ui-line-height-relaxed, 1.7);\n\n  /* Transitions - Uses global tokens */\n  --editor-transition-fast: var(--ui-transition-fast, 120ms cubic-bezier(0.4, 0, 0.2, 1));\n  --editor-transition-normal: var(--ui-transition-normal, 200ms cubic-bezier(0.4, 0, 0.2, 1));\n  --editor-transition-slow: var(--ui-transition-slow, 300ms cubic-bezier(0.4, 0, 0.2, 1));\n\n  /* Shadows - Uses global tokens */\n  --editor-shadow: var(--ui-shadow-sm, 0 1px 2px rgba(0, 0, 0, 0.04), 0 2px 8px rgba(0, 0, 0, 0.06));\n  --editor-shadow-md: var(--ui-shadow-md, 0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.04));\n  --editor-shadow-lg: var(--ui-shadow-lg, 0 8px 24px rgba(0, 0, 0, 0.12), 0 4px 8px rgba(0, 0, 0, 0.06));\n  --editor-shadow-inner: var(--ui-shadow-inner, inset 0 1px 2px rgba(0, 0, 0, 0.06));\n\n  display: block;\n  font-family: var(--editor-font-sans);\n}\n\n/* =====================================================\n   MAIN CONTAINER\n   ===================================================== */\n\n.article-editor {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--editor-bg);\n  border: 1px solid var(--editor-border);\n  border-radius: var(--editor-border-radius);\n  overflow: hidden;\n  box-shadow: var(--editor-shadow);\n  min-height: var(--editor-min-height);\n  font-size: var(--editor-font-size);\n  line-height: var(--editor-line-height);\n  color: var(--editor-text);\n  transition:\n    box-shadow var(--editor-transition-normal),\n    border-color var(--editor-transition-normal);\n}\n\n.article-editor:focus-within {\n  border-color: var(--editor-border-focus);\n  box-shadow:\n    var(--editor-shadow-md),\n    0 0 0 3px var(--editor-accent-light);\n}\n\n.article-editor--disabled {\n  opacity: 0.5;\n  pointer-events: none;\n  filter: grayscale(0.3);\n}\n\n.article-editor--split .article-editor__content {\n  flex-direction: row;\n}\n\n/* =====================================================\n   TOOLBAR\n   ===================================================== */\n\n.article-editor__toolbar {\n  display: flex;\n  align-items: center;\n  gap: var(--editor-gap);\n  padding: 10px var(--editor-padding);\n  background: linear-gradient(to bottom, var(--editor-bg-secondary), var(--editor-bg));\n  border-bottom: 1px solid var(--editor-border);\n  flex-wrap: wrap;\n}\n\n/* Content Type Selector (HTML/Markdown) */\n.article-editor__content-type-selector {\n  display: flex;\n}\n\n.article-editor__content-type-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n  padding: 6px 12px;\n  border: 1px solid var(--editor-border);\n  background-color: var(--editor-bg);\n  color: var(--editor-text);\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 600;\n  transition: all var(--editor-transition-fast);\n  font-family: inherit;\n}\n\n.article-editor__content-type-btn:first-child {\n  border-radius: 6px 0 0 6px;\n}\n\n.article-editor__content-type-btn:last-child {\n  border-radius: 0 6px 6px 0;\n}\n\n.article-editor__content-type-btn:not(:first-child) {\n  margin-left: -1px;\n}\n\n.article-editor__content-type-btn:hover:not(.article-editor__content-type-btn--active) {\n  background-color: var(--editor-bg-tertiary);\n  color: var(--editor-text);\n  z-index: 1;\n}\n\n.article-editor__content-type-btn--active {\n  background-color: var(--editor-accent);\n  border-color: var(--editor-accent);\n  color: white;\n  z-index: 2;\n}\n\n.article-editor__content-type-btn:focus-visible {\n  outline: none;\n  box-shadow:\n    0 0 0 2px var(--editor-accent-light),\n    0 0 0 3px var(--editor-accent);\n  z-index: 3;\n}\n\n.article-editor__content-type-label {\n  display: none;\n}\n\n@media (min-width: 480px) {\n  .article-editor__content-type-label {\n    display: inline;\n  }\n}\n\n/* View Mode Selector (Editor/Preview/Split) */\n.article-editor__view-mode-selector {\n  display: flex;\n  border-radius: 8px;\n  overflow: hidden;\n  background-color: var(--editor-bg-tertiary);\n  padding: 3px;\n  gap: 2px;\n}\n\n.article-editor__view-mode-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 6px 10px;\n  border: none;\n  background-color: transparent;\n  color: var(--editor-text-secondary);\n  cursor: pointer;\n  transition: all var(--editor-transition-fast);\n  border-radius: 6px;\n  font-family: inherit;\n}\n\n.article-editor__view-mode-btn:hover:not(.article-editor__view-mode-btn--active) {\n  background-color: var(--editor-bg);\n  color: var(--editor-text);\n}\n\n.article-editor__view-mode-btn--active {\n  background-color: var(--editor-bg);\n  color: var(--editor-accent);\n  box-shadow: var(--editor-shadow);\n}\n\n.article-editor__view-mode-btn:focus-visible {\n  outline: none;\n  box-shadow:\n    0 0 0 2px var(--editor-accent-light),\n    0 0 0 3px var(--editor-accent);\n}\n\n/* Format Toolbar */\n.article-editor__format-toolbar {\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  padding-left: var(--editor-gap);\n  margin-left: var(--editor-gap);\n  border-left: 1px solid var(--editor-border);\n}\n\n.article-editor__format-btn {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 34px;\n  height: 34px;\n  padding: 0;\n  background-color: transparent;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 700;\n  color: var(--editor-text-secondary);\n  transition: all var(--editor-transition-fast);\n  font-family: inherit;\n}\n\n.article-editor__format-btn::before {\n  content: '';\n  position: absolute;\n  inset: 0;\n  border-radius: 8px;\n  background-color: transparent;\n  transition: background-color var(--editor-transition-fast);\n  z-index: -1;\n}\n\n.article-editor__format-btn:hover {\n  color: var(--editor-accent);\n}\n\n.article-editor__format-btn:hover::before {\n  background-color: var(--editor-accent-light);\n}\n\n.article-editor__format-btn:active {\n  transform: scale(0.92);\n}\n\n.article-editor__format-btn:focus-visible {\n  outline: none;\n  box-shadow:\n    0 0 0 2px var(--editor-accent-light),\n    0 0 0 3px var(--editor-accent);\n}\n\n/* SVG icons in format buttons */\n.article-editor__format-btn svg {\n  width: 16px;\n  height: 16px;\n  stroke: currentColor;\n  fill: none;\n  flex-shrink: 0;\n}\n\n/* Separator between format groups */\n.article-editor__format-separator {\n  width: 1px;\n  height: 20px;\n  background-color: var(--editor-border);\n  margin: 0 4px;\n}\n\n/* Actions */\n.article-editor__actions {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  margin-left: auto;\n}\n\n.article-editor__action-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n  padding: 7px 14px;\n  background-color: var(--editor-bg);\n  border: 1px solid var(--editor-border);\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--editor-text-secondary);\n  transition: all var(--editor-transition-fast);\n  font-family: inherit;\n  box-shadow: var(--editor-shadow);\n}\n\n.article-editor__action-btn:hover {\n  background-color: var(--editor-bg-tertiary);\n  color: var(--editor-text);\n  transform: translateY(-1px);\n  box-shadow: var(--editor-shadow-md);\n}\n\n.article-editor__action-btn:active {\n  transform: translateY(0);\n  box-shadow: var(--editor-shadow);\n}\n\n.article-editor__action-btn--active {\n  background: linear-gradient(135deg, var(--editor-accent), var(--editor-accent-hover));\n  border-color: transparent;\n  color: white;\n  box-shadow: 0 2px 8px rgba(99, 102, 241, 0.4);\n}\n\n.article-editor__action-btn--active:hover {\n  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.5);\n}\n\n.article-editor__action-btn:focus-visible {\n  outline: none;\n  box-shadow:\n    0 0 0 2px var(--editor-accent-light),\n    0 0 0 3px var(--editor-accent);\n}\n\n.article-editor__action-text {\n  display: none;\n}\n\n@media (min-width: 640px) {\n  .article-editor__action-text {\n    display: inline;\n  }\n}\n\n/* =====================================================\n   CONTENT AREA\n   ===================================================== */\n\n.article-editor__content {\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  overflow: hidden;\n  position: relative;\n}\n\n.article-editor--split .article-editor__content {\n  flex-direction: row;\n}\n\n.article-editor__content--resizing {\n  user-select: none;\n  cursor: col-resize;\n}\n\n/* Editor Container */\n.article-editor__editor-container {\n  position: relative;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  min-height: 0;\n  min-width: 0;\n  background-color: var(--editor-bg);\n  overflow: hidden;\n}\n\n.article-editor--split .article-editor__editor-container {\n  flex: none;\n  width: 50%;\n  border-right: none;\n}\n\n/* Resizer */\n.article-editor__resizer {\n  position: relative;\n  flex-shrink: 0;\n  width: 8px;\n  background-color: var(--editor-border);\n  cursor: col-resize;\n  transition: background-color var(--editor-transition-fast);\n  z-index: 10;\n}\n\n.article-editor__resizer:hover,\n.article-editor__content--resizing .article-editor__resizer {\n  background-color: var(--editor-accent);\n}\n\n.article-editor__resizer-handle {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 4px;\n  height: 40px;\n  border-radius: 2px;\n  background-color: var(--editor-text-muted);\n  opacity: 0.5;\n  transition:\n    opacity var(--editor-transition-fast),\n    height var(--editor-transition-fast);\n}\n\n.article-editor__resizer:hover .article-editor__resizer-handle,\n.article-editor__content--resizing .article-editor__resizer-handle {\n  opacity: 1;\n  height: 60px;\n  background-color: white;\n}\n\n/* Line numbers gutter (optional enhancement) */\n.article-editor__gutter {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 48px;\n  background-color: var(--editor-bg-secondary);\n  border-right: 1px solid var(--editor-border);\n  pointer-events: none;\n  opacity: 0.5;\n}\n\n/* Textarea */\n.article-editor__textarea {\n  flex: 1;\n  width: 100%;\n  box-sizing: border-box;\n  padding: var(--editor-padding);\n  padding-left: 20px;\n  font-family: var(--editor-font-mono);\n  font-size: var(--editor-font-size);\n  line-height: var(--editor-line-height);\n  color: var(--editor-text);\n  background-color: transparent;\n  border: none;\n  resize: none;\n  outline: none;\n  tab-size: 2;\n  caret-color: var(--editor-accent);\n  transition: background-color var(--editor-transition-normal);\n  overflow: auto;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n}\n\n.article-editor__textarea:focus {\n  background-color: rgba(99, 102, 241, 0.02);\n}\n\n.article-editor__textarea::placeholder {\n  color: var(--editor-text-muted);\n  font-style: normal;\n  opacity: 0.7;\n}\n\n.article-editor__textarea::selection {\n  background-color: var(--editor-accent-light);\n}\n\n/* In split mode, ensure consistent padding */\n.article-editor--split .article-editor__textarea {\n  padding-right: var(--editor-padding);\n}\n\n/* Preview Container */\n.article-editor__preview-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--editor-bg);\n  min-height: 0;\n  min-width: 0;\n  position: relative;\n  overflow: hidden;\n}\n\n.article-editor--split .article-editor__preview-container {\n  flex: none;\n  width: 50%;\n  background: linear-gradient(135deg, var(--editor-bg-secondary) 0%, var(--editor-bg) 100%);\n}\n\n.article-editor__preview-header {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 10px var(--editor-padding);\n  background-color: var(--editor-bg-secondary);\n  border-bottom: 1px solid var(--editor-border);\n  font-weight: 600;\n  font-size: 11px;\n  color: var(--editor-text-secondary);\n  text-transform: uppercase;\n  letter-spacing: 0.08em;\n}\n\n.article-editor__preview-header::before {\n  content: '';\n  display: block;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  background-color: var(--editor-success);\n  animation: pulse-dot 2s ease-in-out infinite;\n}\n\n@keyframes pulse-dot {\n  0%,\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n  50% {\n    opacity: 0.6;\n    transform: scale(0.85);\n  }\n}\n\n.article-editor__preview-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: var(--editor-padding);\n  padding-top: calc(var(--editor-padding) + 4px);\n  line-height: 1.75;\n  color: var(--editor-text);\n  scroll-behavior: smooth;\n}\n\n/* Custom scrollbar for preview */\n.article-editor__preview-content::-webkit-scrollbar {\n  width: 8px;\n}\n\n.article-editor__preview-content::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.article-editor__preview-content::-webkit-scrollbar-thumb {\n  background-color: var(--editor-border);\n  border-radius: 4px;\n  border: 2px solid transparent;\n  background-clip: padding-box;\n}\n\n.article-editor__preview-content::-webkit-scrollbar-thumb:hover {\n  background-color: var(--editor-text-muted);\n}\n\n/* Empty state */\n.article-editor__preview-content .empty {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  min-height: 200px;\n  color: var(--editor-text-muted);\n  font-style: italic;\n  text-align: center;\n}\n\n/* Preview Typography */\n.article-editor__preview-content h1,\n.article-editor__preview-content h2,\n.article-editor__preview-content h3,\n.article-editor__preview-content h4,\n.article-editor__preview-content h5,\n.article-editor__preview-content h6 {\n  margin-top: 1.5em;\n  margin-bottom: 0.5em;\n  line-height: 1.3;\n  font-weight: 700;\n  color: var(--editor-text);\n  letter-spacing: -0.02em;\n}\n\n.article-editor__preview-content h1:first-child,\n.article-editor__preview-content h2:first-child,\n.article-editor__preview-content h3:first-child {\n  margin-top: 0;\n}\n\n.article-editor__preview-content h1 {\n  font-size: 2.25em;\n  background: linear-gradient(135deg, var(--editor-text), var(--editor-text-secondary));\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n.article-editor__preview-content h2 {\n  font-size: 1.75em;\n}\n.article-editor__preview-content h3 {\n  font-size: 1.35em;\n}\n\n.article-editor__preview-content p {\n  margin: 1em 0;\n}\n\n.article-editor__preview-content a {\n  color: var(--editor-accent);\n  text-decoration: none;\n}\n\n.article-editor__preview-content a:hover {\n  text-decoration: underline;\n}\n\n.article-editor__preview-content code {\n  background-color: var(--editor-accent-light);\n  padding: 2px 8px;\n  border-radius: 6px;\n  font-family: var(--editor-font-mono);\n  font-size: 0.875em;\n  color: var(--editor-accent-hover);\n}\n\n/* Code Blocks */\n.article-editor__preview-content .code-block {\n  position: relative;\n  margin: 1.25em 0;\n  border-radius: 12px;\n  overflow: hidden;\n  background: #1e1e2e;\n  box-shadow:\n    0 4px 6px -1px rgba(0, 0, 0, 0.2),\n    0 2px 4px -1px rgba(0, 0, 0, 0.1),\n    inset 0 1px 0 rgba(255, 255, 255, 0.05);\n}\n\n.article-editor__preview-content .code-block .code-lang {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px 14px;\n  font-size: 10px;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 0.1em;\n  color: #6c7086;\n  background: rgba(0, 0, 0, 0.3);\n  border-bottom-left-radius: 8px;\n  backdrop-filter: blur(4px);\n}\n\n.article-editor__preview-content .code-block pre {\n  margin: 0;\n  padding: 20px;\n  padding-top: 16px;\n  background: transparent;\n  border: none;\n  border-radius: 0;\n  box-shadow: none;\n  overflow-x: auto;\n}\n\n.article-editor__preview-content .code-block code {\n  color: #cdd6f4;\n  font-family: 'JetBrains Mono', 'Fira Code', 'SF Mono', Consolas, monospace;\n  font-size: 13px;\n  line-height: 1.7;\n  display: block;\n  white-space: pre;\n  tab-size: 2;\n}\n\n/* Scrollbar for code blocks */\n.article-editor__preview-content .code-block pre::-webkit-scrollbar {\n  height: 8px;\n}\n\n.article-editor__preview-content .code-block pre::-webkit-scrollbar-track {\n  background: rgba(0, 0, 0, 0.2);\n  border-radius: 4px;\n}\n\n.article-editor__preview-content .code-block pre::-webkit-scrollbar-thumb {\n  background: #45475a;\n  border-radius: 4px;\n}\n\n.article-editor__preview-content .code-block pre::-webkit-scrollbar-thumb:hover {\n  background: #585b70;\n}\n\n/* Fallback pre without code-block wrapper */\n.article-editor__preview-content pre {\n  background-color: var(--editor-bg-secondary);\n  padding: var(--editor-padding);\n  border-radius: 10px;\n  overflow-x: auto;\n  margin: 1.25em 0;\n  border: 1px solid var(--editor-border);\n  box-shadow: var(--editor-shadow-inner);\n}\n\n.article-editor__preview-content pre code {\n  background: none;\n  padding: 0;\n  color: var(--editor-text);\n}\n\n.article-editor__preview-content blockquote {\n  position: relative;\n  border-left: 3px solid var(--editor-accent);\n  margin: 1.25em 0;\n  padding: 12px 20px;\n  background: linear-gradient(to right, var(--editor-accent-light), transparent);\n  color: var(--editor-text-secondary);\n  font-style: italic;\n  border-radius: 0 8px 8px 0;\n}\n\n.article-editor__preview-content ul,\n.article-editor__preview-content ol {\n  margin: 1em 0;\n  padding-left: 2em;\n}\n\n.article-editor__preview-content li {\n  margin: 0.5em 0;\n}\n\n.article-editor__preview-content img {\n  max-width: 100%;\n  height: auto;\n  border-radius: 10px;\n  box-shadow: var(--editor-shadow-md);\n  margin: 1em 0;\n}\n\n.article-editor__preview-content hr {\n  border: none;\n  height: 2px;\n  background: linear-gradient(to right, transparent, var(--editor-border), transparent);\n  margin: 2.5em 0;\n}\n\n.article-editor__preview-content table {\n  width: 100%;\n  border-collapse: collapse;\n  margin: 1.25em 0;\n  font-size: 0.925em;\n  border-radius: 8px;\n  overflow: hidden;\n  border: 1px solid var(--editor-border);\n}\n\n.article-editor__preview-content thead {\n  background: linear-gradient(135deg, var(--editor-bg-secondary), var(--editor-bg-tertiary));\n}\n\n.article-editor__preview-content th,\n.article-editor__preview-content td {\n  padding: 12px 16px;\n  border-bottom: 1px solid var(--editor-border);\n  border-right: 1px solid var(--editor-border);\n}\n\n.article-editor__preview-content th:last-child,\n.article-editor__preview-content td:last-child {\n  border-right: none;\n}\n\n.article-editor__preview-content tbody tr:last-child td {\n  border-bottom: none;\n}\n\n.article-editor__preview-content th {\n  background-color: var(--editor-bg-secondary);\n  font-weight: 600;\n  color: var(--editor-text);\n  text-transform: uppercase;\n  font-size: 0.8em;\n  letter-spacing: 0.05em;\n}\n\n.article-editor__preview-content tbody tr:nth-child(even) {\n  background-color: var(--editor-bg-tertiary);\n}\n\n.article-editor__preview-content tbody tr:hover td {\n  background-color: var(--editor-accent-light);\n}\n\n/* Task Lists */\n.article-editor__preview-content .task-list {\n  list-style: none;\n  padding-left: 0;\n}\n\n.article-editor__preview-content .task-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 8px;\n  padding: 4px 0;\n}\n\n.article-editor__preview-content .task-item input[type='checkbox'] {\n  margin-top: 4px;\n  width: 16px;\n  height: 16px;\n  accent-color: var(--editor-accent);\n  cursor: default;\n}\n\n.article-editor__preview-content .task-done {\n  color: var(--editor-text-secondary);\n  text-decoration: line-through;\n}\n\n/* Table of Contents / Index Lists */\n.article-editor__preview-content .toc-list {\n  background: linear-gradient(135deg, var(--editor-bg-secondary) 0%, var(--editor-bg-tertiary) 100%);\n  border: 1px solid var(--editor-border);\n  border-radius: 10px;\n  padding: 16px 16px 16px 32px;\n  margin: 1em 0;\n  counter-reset: toc-counter;\n}\n\n.article-editor__preview-content .toc-list li {\n  padding: 6px 0;\n  border-bottom: 1px dashed var(--editor-border);\n  transition: all var(--editor-transition-fast);\n}\n\n.article-editor__preview-content .toc-list li:last-child {\n  border-bottom: none;\n}\n\n.article-editor__preview-content .toc-list li:hover {\n  padding-left: 8px;\n  background-color: var(--editor-accent-light);\n  margin-left: -8px;\n  margin-right: -8px;\n  padding-right: 8px;\n  border-radius: 6px;\n}\n\n.article-editor__preview-content .toc-list a {\n  color: var(--editor-text);\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.article-editor__preview-content .toc-list a::before {\n  content: '→';\n  color: var(--editor-accent);\n  font-size: 0.9em;\n  transition: transform var(--editor-transition-fast);\n}\n\n.article-editor__preview-content .toc-list li:hover a::before {\n  transform: translateX(4px);\n}\n\n.article-editor__preview-content .toc-list a:hover {\n  color: var(--editor-accent);\n  text-decoration: none;\n}\n\n/* Nested Lists */\n.article-editor__preview-content ul ul,\n.article-editor__preview-content ul ol,\n.article-editor__preview-content ol ul,\n.article-editor__preview-content ol ol {\n  margin: 0.25em 0;\n}\n\n/* Mark/Highlight */\n.article-editor__preview-content mark {\n  background: linear-gradient(120deg, rgba(255, 215, 0, 0.3) 0%, rgba(255, 215, 0, 0.5) 100%);\n  padding: 1px 4px;\n  border-radius: 3px;\n}\n\n/* Subscript and Superscript */\n.article-editor__preview-content sub,\n.article-editor__preview-content sup {\n  font-size: 0.75em;\n}\n\n/* Anchor links in headers */\n.article-editor__preview-content h1[id],\n.article-editor__preview-content h2[id],\n.article-editor__preview-content h3[id],\n.article-editor__preview-content h4[id],\n.article-editor__preview-content h5[id],\n.article-editor__preview-content h6[id] {\n  scroll-margin-top: 20px;\n}\n\n.article-editor__preview-content h1[id]:hover::after,\n.article-editor__preview-content h2[id]:hover::after,\n.article-editor__preview-content h3[id]:hover::after {\n  content: ' #';\n  color: var(--editor-text-muted);\n  font-weight: normal;\n}\n\n/* =====================================================\n   STATUS BAR\n   ===================================================== */\n\n.article-editor__status-bar {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n  padding: 8px var(--editor-padding);\n  background: linear-gradient(to top, var(--editor-bg-secondary), var(--editor-bg));\n  border-top: 1px solid var(--editor-border);\n  font-size: 12px;\n  font-weight: 500;\n  color: var(--editor-text-secondary);\n}\n\n.article-editor__status-bar span {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.article-editor__status-bar span::before {\n  content: '';\n  display: block;\n  width: 4px;\n  height: 4px;\n  border-radius: 50%;\n  background-color: var(--editor-text-muted);\n}\n\n.article-editor__status-bar span:first-child::before {\n  background-color: var(--editor-accent);\n}\n\n/* =====================================================\n   EXTERNAL PREVIEW INDICATOR\n   ===================================================== */\n\n.article-editor__external-indicator {\n  position: absolute;\n  top: 56px;\n  right: 12px;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 14px;\n  background: linear-gradient(135deg, var(--editor-accent), var(--editor-accent-hover));\n  color: white;\n  font-size: 11px;\n  font-weight: 600;\n  letter-spacing: 0.02em;\n  border-radius: 999px;\n  box-shadow: 0 2px 12px rgba(99, 102, 241, 0.4);\n  animation: float 3s ease-in-out infinite;\n  z-index: 10;\n}\n\n.article-editor__external-indicator::before {\n  content: '';\n  display: block;\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background-color: white;\n  animation: blink 1.5s ease-in-out infinite;\n}\n\n@keyframes float {\n  0%,\n  100% {\n    transform: translateY(0);\n  }\n  50% {\n    transform: translateY(-3px);\n  }\n}\n\n@keyframes blink {\n  0%,\n  100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.4;\n  }\n}\n\n/* =====================================================\n   RESPONSIVE DESIGN\n   ===================================================== */\n\n@media (max-width: 768px) {\n  .article-editor__toolbar {\n    flex-wrap: wrap;\n  }\n\n  .article-editor__mode-selector {\n    width: 100%;\n    order: 1;\n  }\n\n  .article-editor__mode-btn {\n    flex: 1;\n  }\n\n  .article-editor__format-toolbar {\n    order: 3;\n    width: 100%;\n    padding-left: 0;\n    border-left: none;\n    border-top: 1px solid var(--editor-border);\n    padding-top: var(--editor-gap);\n  }\n\n  .article-editor__actions {\n    order: 2;\n    margin-left: 0;\n  }\n\n  .article-editor--split .article-editor__content {\n    flex-direction: column;\n  }\n\n  .article-editor--split .article-editor__editor-container {\n    border-right: none;\n    border-bottom: 1px solid var(--editor-border);\n  }\n}\n\n/* =====================================================\n   ACCESSIBILITY\n   ===================================================== */\n\n@media (prefers-reduced-motion: reduce) {\n  .article-editor__mode-btn,\n  .article-editor__format-btn,\n  .article-editor__action-btn,\n  .article-editor__textarea,\n  .article-editor__external-indicator {\n    transition: none !important;\n    animation: none !important;\n  }\n}\n\n@media (prefers-contrast: high) {\n  .article-editor {\n    border-width: 2px;\n  }\n\n  .article-editor__mode-btn--active {\n    outline: 2px solid var(--editor-text);\n  }\n}\n\n/* =====================================================\n   DARK THEME SUPPORT\n   Inherits from global dark theme automatically\n   ===================================================== */\n\n:host([theme='dark']),\n:host-context([data-theme='dark']) {\n  /* Dark theme colors - refined for better contrast */\n  --editor-bg: var(--ui-bg, #0f172a);\n  --editor-bg-secondary: var(--ui-bg-secondary, #1e293b);\n  --editor-bg-tertiary: var(--ui-bg-tertiary, #334155);\n  --editor-text: var(--ui-text, #f1f5f9);\n  --editor-text-secondary: var(--ui-text-secondary, #b8c4d4);\n  --editor-text-muted: var(--ui-text-muted, #8899b0);\n  --editor-border: var(--ui-border, #334155);\n  --editor-border-focus: var(--ui-border-focus, #818cf8);\n  --editor-accent: var(--ui-accent, #818cf8);\n  --editor-accent-hover: var(--ui-accent-hover, #6366f1);\n  --editor-accent-light: var(--ui-accent-light, rgba(129, 140, 248, 0.15));\n  --editor-shadow: var(--ui-shadow-sm, 0 1px 3px rgba(0, 0, 0, 0.4), 0 1px 2px rgba(0, 0, 0, 0.3));\n  --editor-shadow-md: var(--ui-shadow-md, 0 4px 12px rgba(0, 0, 0, 0.5));\n  --editor-success: var(--ui-success, #4ade80);\n}\n\n/* =====================================================\n   RTL (RIGHT-TO-LEFT) SUPPORT\n   ===================================================== */\n\n.article-editor--rtl {\n  direction: rtl;\n  text-align: right;\n}\n\n.article-editor--rtl .article-editor__toolbar {\n  flex-direction: row-reverse;\n}\n\n.article-editor--rtl .article-editor__mode-selector,\n.article-editor--rtl .article-editor__format-toolbar,\n.article-editor--rtl .article-editor__actions {\n  flex-direction: row-reverse;\n}\n\n.article-editor--rtl .article-editor__status-bar {\n  flex-direction: row-reverse;\n}\n\n.article-editor--rtl .article-editor__preview-content {\n  text-align: right;\n}\n\n.article-editor--rtl .article-editor__preview-content blockquote {\n  border-left: none;\n  border-right: 4px solid var(--editor-border);\n  padding-left: 0;\n  padding-right: var(--editor-padding);\n  margin-right: 0;\n}\n","import { Component, Prop, State, Event, EventEmitter, h, Watch, Method } from '@stencil/core';\nimport {\n  ContentType,\n  ViewMode,\n  EditorChangeEvent,\n  ContentTypeChangeEvent,\n  ViewModeChangeEvent,\n  MediaItem,\n  CONTENT_TYPES,\n  VIEW_MODES,\n  DEFAULT_TOOLBAR_BUTTONS,\n  countWords,\n  countChars,\n  ToolbarAction,\n} from './utils';\nimport { convertContent, getPreviewHtml, sanitizeHtml } from './utils/editor-modes';\nimport { getTextSelection, setTextSelection, applyToolbarAction, getActionFromKeyboard, DEFAULT_SHORTCUTS } from './utils/toolbar-actions';\nimport { SupportedLocale, EditorTranslations, getTranslations, isRTL, formatCount } from './utils/i18n';\n\n/**\n * SageBox - Article Editor Component\n *\n * A headless-ready article editor supporting HTML and Markdown modes\n * with live preview, formatting toolbar, and optional media library integration.\n *\n * @example\n * ```html\n * <sg-article-editor\n *   value=\"<p>Hello World</p>\"\n *   mode=\"html\"\n *   placeholder=\"Start writing...\"\n * ></sg-article-editor>\n * ```\n */\n@Component({\n  tag: 'sg-article-editor',\n  styleUrl: 'article-editor.css',\n  shadow: true,\n})\nexport class ArticleEditor {\n  // =====================================================\n  // PROPERTIES\n  // =====================================================\n\n  /**\n   * The content value of the editor\n   */\n  @Prop({ mutable: true }) value: string = '';\n\n  /**\n   * Content syntax type (html or markdown)\n   */\n  @Prop({ mutable: true }) contentType: ContentType = 'html';\n\n  /**\n   * View mode (editor, preview, or split)\n   */\n  @Prop({ mutable: true }) viewMode: ViewMode = 'editor';\n\n  /**\n   * Available content types (comma-separated or array)\n   */\n  @Prop() availableContentTypes: string = 'html,markdown';\n\n  /**\n   * Available view modes (comma-separated or array)\n   */\n  @Prop() availableViewModes: string = 'editor,preview,split';\n\n  /**\n   * @deprecated Use contentType instead\n   */\n  @Prop({ mutable: true }) mode: ContentType = 'html';\n\n  /**\n   * @deprecated Use availableContentTypes instead\n   */\n  @Prop() availableModes: string = 'html,markdown';\n\n  /**\n   * Placeholder text when editor is empty\n   */\n  @Prop() placeholder: string = 'Start writing...';\n\n  /**\n   * Minimum height in pixels\n   */\n  @Prop() minHeight: number = 400;\n\n  /**\n   * Enable spell checking\n   */\n  @Prop() spellcheck: boolean = true;\n\n  /**\n   * Show word/character count\n   */\n  @Prop() showWordCount: boolean = true;\n\n  /**\n   * Enable external preview window\n   */\n  @Prop() enableExternalPreview: boolean = true;\n\n  /**\n   * Disabled state\n   */\n  @Prop() disabled: boolean = false;\n\n  /**\n   * Read-only state\n   */\n  @Prop() readonly: boolean = false;\n\n  // =====================================================\n  // STYLE PROPS - CSS Custom Properties\n  // =====================================================\n\n  /**\n   * Custom background color for the editor\n   */\n  @Prop() editorBg: string;\n\n  /**\n   * Custom secondary background color\n   */\n  @Prop() editorBgSecondary: string;\n\n  /**\n   * Custom tertiary background color\n   */\n  @Prop() editorBgTertiary: string;\n\n  /**\n   * Custom text color\n   */\n  @Prop() editorText: string;\n\n  /**\n   * Custom secondary text color\n   */\n  @Prop() editorTextSecondary: string;\n\n  /**\n   * Custom border color\n   */\n  @Prop() editorBorder: string;\n\n  /**\n   * Custom accent color (buttons, links)\n   */\n  @Prop() editorAccent: string;\n\n  /**\n   * Custom border radius\n   */\n  @Prop() editorBorderRadius: string;\n\n  /**\n   * Custom font family for text\n   */\n  @Prop() editorFontSans: string;\n\n  /**\n   * Custom font family for code\n   */\n  @Prop() editorFontMono: string;\n\n  /**\n   * Custom font size\n   */\n  @Prop() editorFontSize: string;\n\n  // =====================================================\n  // I18N PROPS\n  // =====================================================\n\n  /**\n   * Locale for UI text (en, es, fr, de, pt, it, zh, ja, ko, ar)\n   */\n  @Prop() locale: SupportedLocale = 'en';\n\n  /**\n   * Custom translations to override defaults\n   */\n  @Prop() customTranslations: Partial<EditorTranslations>;\n\n  // =====================================================\n  // STATE\n  // =====================================================\n\n  @State() internalValue: string = '';\n  @State() wordCount: number = 0;\n  @State() charCount: number = 0;\n  @State() isMediaLibraryOpen: boolean = false;\n  @State() isExternalPreviewOpen: boolean = false;\n  @State() externalWindow: Window | null = null;\n  @State() splitPosition: number = 50; // Percentage for editor width in split mode\n  @State() isResizing: boolean = false;\n\n  // =====================================================\n  // EVENTS\n  // =====================================================\n\n  /**\n   * Emitted when the content changes\n   */\n  @Event() editorChange: EventEmitter<EditorChangeEvent>;\n\n  /**\n   * Emitted when the content type changes\n   */\n  @Event() contentTypeChange: EventEmitter<ContentTypeChangeEvent>;\n\n  /**\n   * Emitted when the view mode changes\n   */\n  @Event() viewModeChange: EventEmitter<ViewModeChangeEvent>;\n\n  /**\n   * @deprecated Use contentTypeChange instead\n   */\n  @Event() editorModeChange: EventEmitter<ContentTypeChangeEvent>;\n\n  /**\n   * Emitted when media library is requested\n   */\n  @Event() mediaLibraryOpen: EventEmitter<void>;\n\n  /**\n   * Emitted when a media item should be inserted\n   */\n  @Event() mediaInsert: EventEmitter<MediaItem>;\n\n  // =====================================================\n  // REFS\n  // =====================================================\n\n  private textareaRef: HTMLTextAreaElement;\n\n  // =====================================================\n  // COMPUTED - I18N\n  // =====================================================\n\n  /**\n   * Get merged translations (base + custom overrides)\n   */\n  private get t(): EditorTranslations {\n    const base = getTranslations(this.locale);\n    if (!this.customTranslations) return base;\n\n    // Deep merge custom translations\n    return {\n      modes: { ...base.modes, ...this.customTranslations.modes },\n      toolbar: { ...base.toolbar, ...this.customTranslations.toolbar },\n      status: { ...base.status, ...this.customTranslations.status },\n      actions: { ...base.actions, ...this.customTranslations.actions },\n      placeholders: { ...base.placeholders, ...this.customTranslations.placeholders },\n      preview: { ...base.preview, ...this.customTranslations.preview },\n      aria: { ...base.aria, ...this.customTranslations.aria },\n    };\n  }\n\n  /**\n   * Check if current locale is RTL\n   */\n  private get isRtl(): boolean {\n    return isRTL(this.locale);\n  }\n\n  // =====================================================\n  // LIFECYCLE\n  // =====================================================\n\n  componentWillLoad() {\n    this.internalValue = this.value;\n    this.updateCounts();\n  }\n\n  componentDidLoad() {\n    // Set up external preview polling if window is open\n    if (this.isExternalPreviewOpen) {\n      this.startExternalPreviewPolling();\n    }\n  }\n\n  disconnectedCallback() {\n    // Clean up external window\n    if (this.externalWindow && !this.externalWindow.closed) {\n      this.externalWindow.close();\n    }\n  }\n\n  // =====================================================\n  // WATCHERS\n  // =====================================================\n\n  @Watch('value')\n  handleValueChange(newValue: string) {\n    if (newValue !== this.internalValue) {\n      this.internalValue = newValue;\n      this.updateCounts();\n    }\n  }\n\n  // =====================================================\n  // PUBLIC METHODS\n  // =====================================================\n\n  /**\n   * Get the current content\n   */\n  @Method()\n  async getContent(): Promise<string> {\n    return this.internalValue;\n  }\n\n  /**\n   * Set the content programmatically\n   */\n  @Method()\n  async setContent(content: string): Promise<void> {\n    this.internalValue = content;\n    this.value = content;\n    this.updateCounts();\n    this.emitChange();\n  }\n\n  /**\n   * Get content as HTML (converts if in markdown mode)\n   */\n  @Method()\n  async getHtml(): Promise<string> {\n    return getPreviewHtml(this.internalValue, this.contentType);\n  }\n\n  /**\n   * Focus the editor\n   */\n  @Method()\n  async focusEditor(): Promise<void> {\n    this.textareaRef?.focus();\n  }\n\n  /**\n   * Insert content at cursor position\n   */\n  @Method()\n  async insertAtCursor(content: string): Promise<void> {\n    if (!this.textareaRef) return;\n\n    const selection = getTextSelection(this.textareaRef);\n    const before = this.internalValue.substring(0, selection.start);\n    const after = this.internalValue.substring(selection.end);\n\n    this.internalValue = before + content + after;\n    this.value = this.internalValue;\n    this.updateCounts();\n    this.emitChange();\n\n    // Set cursor after inserted content\n    requestAnimationFrame(() => {\n      setTextSelection(this.textareaRef, selection.start + content.length, selection.start + content.length);\n    });\n  }\n\n  /**\n   * Insert a media item\n   */\n  @Method()\n  async insertMedia(media: MediaItem): Promise<void> {\n    const isMarkdown = this.contentType === 'markdown';\n    const content = isMarkdown\n      ? `![${media.alt || media.filename}](${media.url})`\n      : `<img src=\"${media.url}\" alt=\"${media.alt || media.filename}\" />`;\n\n    await this.insertAtCursor(content);\n    this.mediaInsert.emit(media);\n    this.isMediaLibraryOpen = false;\n  }\n\n  // =====================================================\n  // PRIVATE METHODS\n  // =====================================================\n\n  private updateCounts() {\n    this.wordCount = countWords(this.internalValue);\n    this.charCount = countChars(this.internalValue);\n  }\n\n  private emitChange() {\n    this.editorChange.emit({\n      value: this.internalValue,\n      contentType: this.contentType,\n      viewMode: this.viewMode,\n      wordCount: this.wordCount,\n      charCount: this.charCount,\n    });\n  }\n\n  private getAvailableContentTypes(): ContentType[] {\n    const types = this.availableContentTypes.split(',').map(t => t.trim() as ContentType);\n    return CONTENT_TYPES.filter(c => types.includes(c.type)).map(c => c.type);\n  }\n\n  private getAvailableViewModes(): ViewMode[] {\n    const modes = this.availableViewModes.split(',').map(m => m.trim() as ViewMode);\n    return VIEW_MODES.filter(v => modes.includes(v.mode)).map(v => v.mode);\n  }\n\n  private handleInput = (event: Event) => {\n    const target = event.target as HTMLTextAreaElement;\n    this.internalValue = target.value;\n    this.value = target.value;\n    this.updateCounts();\n    this.emitChange();\n    this.updateExternalPreview();\n  };\n\n  private handleContentTypeChange = (newType: ContentType) => {\n    if (newType === this.contentType) return;\n\n    const previousType = this.contentType;\n\n    // Convert content when switching between html and markdown\n    this.internalValue = convertContent(this.internalValue, previousType, newType);\n    this.value = this.internalValue;\n\n    this.contentType = newType;\n    this.mode = newType; // Keep deprecated prop in sync\n\n    this.contentTypeChange.emit({ previousType, newType });\n  };\n\n  private handleViewModeChange = (newMode: ViewMode) => {\n    if (newMode === this.viewMode) return;\n\n    const previousMode = this.viewMode;\n    this.viewMode = newMode;\n\n    this.viewModeChange.emit({ previousMode, newMode });\n  };\n\n  private handleToolbarAction = (action: string) => {\n    if (action === 'image') {\n      this.isMediaLibraryOpen = true;\n      this.mediaLibraryOpen.emit();\n      return;\n    }\n\n    if (!this.textareaRef) return;\n\n    const selection = getTextSelection(this.textareaRef);\n    const result = applyToolbarAction({\n      content: this.internalValue,\n      selection,\n      mode: this.contentType,\n      action: action as ToolbarAction,\n    });\n\n    this.internalValue = result.newContent;\n    this.value = result.newContent;\n    this.updateCounts();\n    this.emitChange();\n\n    requestAnimationFrame(() => {\n      setTextSelection(this.textareaRef, result.newSelectionStart, result.newSelectionEnd);\n    });\n  };\n\n  private handleKeyDown = (event: KeyboardEvent) => {\n    const action = getActionFromKeyboard(event, DEFAULT_SHORTCUTS);\n    if (action) {\n      event.preventDefault();\n      this.handleToolbarAction(action);\n    }\n  };\n\n  private toggleExternalPreview = () => {\n    if (this.isExternalPreviewOpen && this.externalWindow) {\n      this.externalWindow.close();\n      this.externalWindow = null;\n      this.isExternalPreviewOpen = false;\n    } else {\n      this.openExternalPreview();\n    }\n  };\n\n  private openExternalPreview() {\n    const width = 800;\n    const height = 600;\n    const left = window.screenX + (window.outerWidth - width) / 2;\n    const top = window.screenY + (window.outerHeight - height) / 2;\n\n    this.externalWindow = window.open('', 'EditorPreview', `width=${width},height=${height},left=${left},top=${top}`);\n\n    if (this.externalWindow) {\n      this.isExternalPreviewOpen = true;\n      this.updateExternalPreview();\n      this.startExternalPreviewPolling();\n    }\n  }\n\n  private updateExternalPreview() {\n    if (!this.externalWindow || this.externalWindow.closed) return;\n\n    const html = getPreviewHtml(this.internalValue, this.contentType);\n    const sanitized = sanitizeHtml(html);\n\n    this.externalWindow.document.open();\n    this.externalWindow.document.write(`\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Editor Preview</title>\n          <style>\n            body {\n              font-family: system-ui, -apple-system, sans-serif;\n              line-height: 1.6;\n              padding: 2rem;\n              max-width: 800px;\n              margin: 0 auto;\n              color: #333;\n            }\n            img { max-width: 100%; height: auto; }\n            pre { background: #f5f5f5; padding: 1rem; overflow-x: auto; }\n            code { background: #f5f5f5; padding: 0.2em 0.4em; border-radius: 3px; }\n            blockquote { border-left: 4px solid #ddd; margin-left: 0; padding-left: 1rem; color: #666; }\n          </style>\n        </head>\n        <body>${sanitized}</body>\n      </html>\n    `);\n    this.externalWindow.document.close();\n  }\n\n  private startExternalPreviewPolling() {\n    const checkWindow = () => {\n      if (this.externalWindow?.closed) {\n        this.externalWindow = null;\n        this.isExternalPreviewOpen = false;\n      } else if (this.isExternalPreviewOpen) {\n        requestAnimationFrame(checkWindow);\n      }\n    };\n    requestAnimationFrame(checkWindow);\n  }\n\n  // =====================================================\n  // SPLIT PANEL RESIZE\n  // =====================================================\n\n  private contentRef: HTMLDivElement;\n\n  private handleResizeStart = (event: MouseEvent | TouchEvent) => {\n    event.preventDefault();\n    this.isResizing = true;\n\n    const handleMove = (e: MouseEvent | TouchEvent) => {\n      if (!this.isResizing || !this.contentRef) return;\n\n      const clientX = 'touches' in e ? e.touches[0].clientX : e.clientX;\n      const rect = this.contentRef.getBoundingClientRect();\n      const newPosition = ((clientX - rect.left) / rect.width) * 100;\n\n      // Clamp between 20% and 80%\n      this.splitPosition = Math.min(80, Math.max(20, newPosition));\n    };\n\n    const handleEnd = () => {\n      this.isResizing = false;\n      document.removeEventListener('mousemove', handleMove);\n      document.removeEventListener('mouseup', handleEnd);\n      document.removeEventListener('touchmove', handleMove);\n      document.removeEventListener('touchend', handleEnd);\n    };\n\n    document.addEventListener('mousemove', handleMove);\n    document.addEventListener('mouseup', handleEnd);\n    document.addEventListener('touchmove', handleMove);\n    document.addEventListener('touchend', handleEnd);\n  };\n\n  // =====================================================\n  // TOOLBAR ICONS\n  // =====================================================\n\n  private renderContentTypeIcon(type: ContentType) {\n    switch (type) {\n      case 'html':\n        return (\n          <svg\n            width=\"14\"\n            height=\"14\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <polyline points=\"16 18 22 12 16 6\"></polyline>\n            <polyline points=\"8 6 2 12 8 18\"></polyline>\n          </svg>\n        );\n      case 'markdown':\n        return (\n          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n            <path d=\"M3 3h18v18H3V3zm16 16V5H5v14h14zM7 15V9h2l2 3 2-3h2v6h-2v-4l-2 3-2-3v4H7z\"></path>\n          </svg>\n        );\n    }\n  }\n\n  private renderViewModeIcon(mode: ViewMode) {\n    switch (mode) {\n      case 'editor':\n        return (\n          <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"></path>\n            <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"></path>\n          </svg>\n        );\n      case 'preview':\n        return (\n          <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n            <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n          </svg>\n        );\n      case 'split':\n        return (\n          <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n            <line x1=\"12\" y1=\"3\" x2=\"12\" y2=\"21\"></line>\n          </svg>\n        );\n    }\n  }\n\n  private renderToolbarIcon(action: string) {\n    switch (action) {\n      case 'bold':\n        return (\n          <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2.5\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <path d=\"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z\"></path>\n            <path d=\"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z\"></path>\n          </svg>\n        );\n      case 'italic':\n        return (\n          <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2.5\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <line x1=\"19\" y1=\"4\" x2=\"10\" y2=\"4\"></line>\n            <line x1=\"14\" y1=\"20\" x2=\"5\" y2=\"20\"></line>\n            <line x1=\"15\" y1=\"4\" x2=\"9\" y2=\"20\"></line>\n          </svg>\n        );\n      case 'underline':\n        return (\n          <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2.5\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <path d=\"M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3\"></path>\n            <line x1=\"4\" y1=\"21\" x2=\"20\" y2=\"21\"></line>\n          </svg>\n        );\n      case 'link':\n        return (\n          <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2.5\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <path d=\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"></path>\n            <path d=\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"></path>\n          </svg>\n        );\n      case 'code':\n        return (\n          <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2.5\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <polyline points=\"16 18 22 12 16 6\"></polyline>\n            <polyline points=\"8 6 2 12 8 18\"></polyline>\n          </svg>\n        );\n      case 'quote':\n        return (\n          <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2.5\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <path d=\"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V21z\"></path>\n            <path d=\"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3z\"></path>\n          </svg>\n        );\n      case 'image':\n        return (\n          <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2.5\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n            <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"></circle>\n            <polyline points=\"21 15 16 10 5 21\"></polyline>\n          </svg>\n        );\n      default:\n        return <span>{action.charAt(0).toUpperCase()}</span>;\n    }\n  }\n\n  // =====================================================\n  // RENDER\n  // =====================================================\n\n  private getCustomStyles(): Record<string, string> {\n    const styles: Record<string, string> = {\n      '--editor-min-height': `${this.minHeight}px`,\n    };\n\n    // Apply custom style props if provided\n    if (this.editorBg) styles['--editor-bg'] = this.editorBg;\n    if (this.editorBgSecondary) styles['--editor-bg-secondary'] = this.editorBgSecondary;\n    if (this.editorBgTertiary) styles['--editor-bg-tertiary'] = this.editorBgTertiary;\n    if (this.editorText) styles['--editor-text'] = this.editorText;\n    if (this.editorTextSecondary) styles['--editor-text-secondary'] = this.editorTextSecondary;\n    if (this.editorBorder) styles['--editor-border'] = this.editorBorder;\n    if (this.editorAccent) styles['--editor-accent'] = this.editorAccent;\n    if (this.editorBorderRadius) styles['--editor-border-radius'] = this.editorBorderRadius;\n    if (this.editorFontSans) styles['--editor-font-sans'] = this.editorFontSans;\n    if (this.editorFontMono) styles['--editor-font-mono'] = this.editorFontMono;\n    if (this.editorFontSize) styles['--editor-font-size'] = this.editorFontSize;\n\n    return styles;\n  }\n\n  render() {\n    const availableContentTypes = this.getAvailableContentTypes();\n    const availableViewModes = this.getAvailableViewModes();\n    const showEditor = this.viewMode === 'editor' || this.viewMode === 'split';\n    const showPreview = this.viewMode === 'preview' || this.viewMode === 'split';\n    const previewHtml = getPreviewHtml(this.internalValue, this.contentType);\n    const t = this.t;\n\n    return (\n      <div\n        class={{\n          'article-editor': true,\n          'article-editor--split': this.viewMode === 'split',\n          'article-editor--disabled': this.disabled,\n          'article-editor--rtl': this.isRtl,\n        }}\n        style={this.getCustomStyles()}\n        dir={this.isRtl ? 'rtl' : 'ltr'}\n        aria-label={t.aria.editor}\n      >\n        {/* Toolbar */}\n        <div class=\"article-editor__toolbar\" role=\"toolbar\" aria-label={t.aria.toolbar}>\n          {/* Content Type Selector (HTML/Markdown) */}\n          <div class=\"article-editor__content-type-selector\" role=\"group\" aria-label={t.aria.modeSelector}>\n            {availableContentTypes.map(type => {\n              const typeConfig = CONTENT_TYPES.find(c => c.type === type);\n              const typeLabel = t.modes[type as keyof typeof t.modes] || typeConfig?.label || type;\n              return (\n                <button\n                  key={type}\n                  class={{\n                    'article-editor__content-type-btn': true,\n                    'article-editor__content-type-btn--active': this.contentType === type,\n                  }}\n                  onClick={() => this.handleContentTypeChange(type)}\n                  disabled={this.disabled}\n                  title={typeLabel}\n                  aria-pressed={this.contentType === type ? 'true' : 'false'}\n                >\n                  {this.renderContentTypeIcon(type)}\n                  <span class=\"article-editor__content-type-label\">{typeLabel}</span>\n                </button>\n              );\n            })}\n          </div>\n\n          {/* View Mode Selector (Editor/Preview/Split) */}\n          <div class=\"article-editor__view-mode-selector\" role=\"group\" aria-label=\"View mode\">\n            {availableViewModes.map(mode => {\n              const modeConfig = VIEW_MODES.find(v => v.mode === mode);\n              const modeLabel = t.modes[mode as keyof typeof t.modes] || modeConfig?.label || mode;\n              return (\n                <button\n                  key={mode}\n                  class={{\n                    'article-editor__view-mode-btn': true,\n                    'article-editor__view-mode-btn--active': this.viewMode === mode,\n                  }}\n                  onClick={() => this.handleViewModeChange(mode)}\n                  disabled={this.disabled}\n                  title={modeLabel}\n                  aria-pressed={this.viewMode === mode ? 'true' : 'false'}\n                >\n                  {this.renderViewModeIcon(mode)}\n                </button>\n              );\n            })}\n          </div>\n\n          {/* Format Buttons */}\n          {showEditor && (\n            <div class=\"article-editor__format-toolbar\" role=\"group\" aria-label={t.aria.formatToolbar}>\n              {DEFAULT_TOOLBAR_BUTTONS.slice(0, 7).map((btn, index) => {\n                const label = t.toolbar[btn.action as keyof typeof t.toolbar] || btn.label;\n                return [\n                  index === 3 && <span class=\"article-editor__format-separator\" key={`sep-${index}`}></span>,\n                  <button\n                    key={btn.action}\n                    class=\"article-editor__format-btn\"\n                    onClick={() => this.handleToolbarAction(btn.action)}\n                    disabled={this.disabled || this.readonly}\n                    title={btn.shortcut ? `${label} (${btn.shortcut})` : label}\n                    aria-label={label}\n                  >\n                    {this.renderToolbarIcon(btn.action)}\n                  </button>,\n                ];\n              })}\n            </div>\n          )}\n\n          {/* Actions */}\n          <div class=\"article-editor__actions\">\n            {this.enableExternalPreview && (\n              <button\n                class={{\n                  'article-editor__action-btn': true,\n                  'article-editor__action-btn--active': this.isExternalPreviewOpen,\n                }}\n                onClick={this.toggleExternalPreview}\n                disabled={this.disabled}\n                title={t.actions.externalPreview}\n                aria-pressed={this.isExternalPreviewOpen ? 'true' : 'false'}\n              >\n                <svg\n                  width=\"14\"\n                  height=\"14\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  stroke-width=\"2\"\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                >\n                  <path d=\"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\"></path>\n                  <polyline points=\"15 3 21 3 21 9\"></polyline>\n                  <line x1=\"10\" y1=\"14\" x2=\"21\" y2=\"3\"></line>\n                </svg>\n                <span class=\"article-editor__action-text\">{this.isExternalPreviewOpen ? 'Close' : t.actions.externalPreview || 'Preview'}</span>\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Content Area */}\n        <div\n          class={{\n            'article-editor__content': true,\n            'article-editor__content--resizing': this.isResizing,\n          }}\n          ref={el => (this.contentRef = el)}\n        >\n          {/* Editor */}\n          {showEditor && (\n            <div class=\"article-editor__editor-container\" style={this.viewMode === 'split' ? { width: `${this.splitPosition}%` } : {}}>\n              <textarea\n                ref={el => (this.textareaRef = el)}\n                class=\"article-editor__textarea\"\n                value={this.internalValue}\n                placeholder={this.placeholder || t.placeholders.startWriting}\n                spellcheck={this.spellcheck}\n                disabled={this.disabled}\n                readOnly={this.readonly}\n                onInput={this.handleInput}\n                onKeyDown={this.handleKeyDown}\n                aria-label={t.aria.editor}\n              />\n            </div>\n          )}\n\n          {/* Resizer */}\n          {this.viewMode === 'split' && (\n            <div\n              class=\"article-editor__resizer\"\n              onMouseDown={this.handleResizeStart}\n              onTouchStart={this.handleResizeStart}\n              role=\"separator\"\n              aria-label=\"Resize panels\"\n              aria-valuenow={this.splitPosition}\n              aria-valuemin={20}\n              aria-valuemax={80}\n            >\n              <div class=\"article-editor__resizer-handle\"></div>\n            </div>\n          )}\n\n          {/* Preview */}\n          {showPreview && (\n            <div class=\"article-editor__preview-container\" style={this.viewMode === 'split' ? { width: `${100 - this.splitPosition}%` } : {}}>\n              <div class=\"article-editor__preview-header\">{t.preview.title}</div>\n              <div\n                class=\"article-editor__preview-content\"\n                innerHTML={sanitizeHtml(previewHtml) || `<p class=\"empty\">${t.preview.empty}</p>`}\n                aria-label={t.aria.preview}\n              />\n            </div>\n          )}\n        </div>\n\n        {/* Status Bar */}\n        {this.showWordCount && (\n          <div class=\"article-editor__status-bar\">\n            <span>{formatCount(this.wordCount, t.status.words, t.status.wordsPlural)}</span>\n            <span>{formatCount(this.charCount, t.status.characters, t.status.charactersPlural)}</span>\n          </div>\n        )}\n\n        {/* External Preview Indicator */}\n        {this.isExternalPreviewOpen && <div class=\"article-editor__external-indicator\">{t.actions.externalPreviewOpen}</div>}\n      </div>\n    );\n  }\n}\n","/**\n * SageBox Badge Component\n * Versatile badge/tag with multiple variants and styles\n *\n * Uses global design tokens from @sagebox/core:\n * --ui-color-*, --ui-radius-*, --ui-font-*\n */\n\n:host {\n  display: inline-flex;\n  vertical-align: middle;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * BASE BADGE\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.badge {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.375em;\n  font-family: var(--ui-font-sans, 'Inter', system-ui, -apple-system, sans-serif);\n  font-weight: 500;\n  white-space: nowrap;\n  border-radius: var(--ui-radius-sm, 0.375rem);\n  border: 1px solid transparent;\n  transition: all 0.15s ease;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * SIZE VARIANTS\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n:host(.sg-badge--xs) .badge {\n  padding: 0.125rem 0.375rem;\n  font-size: 0.625rem;\n  line-height: 1.2;\n  gap: 0.25em;\n}\n\n:host(.sg-badge--sm) .badge {\n  padding: 0.1875rem 0.5rem;\n  font-size: 0.6875rem;\n  line-height: 1.3;\n}\n\n:host(.sg-badge--md) .badge {\n  padding: 0.25rem 0.625rem;\n  font-size: 0.75rem;\n  line-height: 1.4;\n}\n\n:host(.sg-badge--lg) .badge {\n  padding: 0.375rem 0.875rem;\n  font-size: 0.875rem;\n  line-height: 1.4;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * COLOR VARIANTS - Solid (default)\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n:host(.sg-badge--primary) .badge {\n  background: linear-gradient(135deg, var(--ui-color-primary-500, #3b82f6) 0%, var(--ui-color-primary-600, #2563eb) 100%);\n  color: var(--ui-text-inverse, white);\n}\n\n:host(.sg-badge--secondary) .badge {\n  background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);\n  color: var(--ui-text-inverse, white);\n}\n\n:host(.sg-badge--success) .badge {\n  background: linear-gradient(135deg, var(--ui-color-success-500, #22c55e) 0%, var(--ui-color-success-600, #16a34a) 100%);\n  color: var(--ui-text-inverse, white);\n}\n\n:host(.sg-badge--warning) .badge {\n  background: linear-gradient(135deg, var(--ui-color-warning-500, #f59e0b) 0%, var(--ui-color-warning-600, #d97706) 100%);\n  color: var(--ui-color-neutral-800, #1e293b);\n}\n\n:host(.sg-badge--error) .badge {\n  background: linear-gradient(135deg, var(--ui-color-error-500, #ef4444) 0%, var(--ui-color-error-600, #dc2626) 100%);\n  color: var(--ui-text-inverse, white);\n}\n\n:host(.sg-badge--info) .badge {\n  background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);\n  color: var(--ui-text-inverse, white);\n}\n\n:host(.sg-badge--neutral) .badge {\n  background: var(--ui-color-neutral-600, #4b5563);\n  color: var(--ui-text-inverse, white);\n}\n\n:host(.sg-badge--purple) .badge {\n  background: linear-gradient(135deg, #a855f7 0%, #9333ea 100%);\n  color: var(--ui-text-inverse, white);\n}\n\n:host(.sg-badge--cyan) .badge {\n  background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);\n  color: var(--ui-text-inverse, white);\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * SOFT/SUBTLE STYLE\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n:host(.sg-badge--soft.sg-badge--primary) .badge {\n  background: var(--ui-color-primary-50, rgba(59, 130, 246, 0.12));\n  color: var(--ui-color-primary-600, #2563eb);\n}\n\n:host(.sg-badge--soft.sg-badge--secondary) .badge {\n  background: rgba(139, 92, 246, 0.12);\n  color: #7c3aed;\n}\n\n:host(.sg-badge--soft.sg-badge--success) .badge {\n  background: var(--ui-color-success-50, rgba(34, 197, 94, 0.12));\n  color: var(--ui-color-success-600, #16a34a);\n}\n\n:host(.sg-badge--soft.sg-badge--warning) .badge {\n  background: var(--ui-color-warning-50, rgba(245, 158, 11, 0.12));\n  color: var(--ui-color-warning-700, #b45309);\n}\n\n:host(.sg-badge--soft.sg-badge--error) .badge {\n  background: var(--ui-color-error-50, rgba(239, 68, 68, 0.12));\n  color: var(--ui-color-error-600, #dc2626);\n}\n\n:host(.sg-badge--soft.sg-badge--info) .badge {\n  background: rgba(14, 165, 233, 0.12);\n  color: #0284c7;\n}\n\n:host(.sg-badge--soft.sg-badge--neutral) .badge {\n  background: var(--ui-color-neutral-100, rgba(107, 114, 128, 0.12));\n  color: var(--ui-color-neutral-600, #4b5563);\n}\n\n:host(.sg-badge--soft.sg-badge--purple) .badge {\n  background: rgba(168, 85, 247, 0.12);\n  color: #9333ea;\n}\n\n:host(.sg-badge--soft.sg-badge--cyan) .badge {\n  background: rgba(6, 182, 212, 0.12);\n  color: #0891b2;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * OUTLINED STYLE\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n:host(.sg-badge--outlined) .badge {\n  background: transparent;\n}\n\n:host(.sg-badge--outlined.sg-badge--primary) .badge {\n  border-color: var(--ui-color-primary-500, #3b82f6);\n  color: var(--ui-color-primary-500, #3b82f6);\n}\n\n:host(.sg-badge--outlined.sg-badge--secondary) .badge {\n  border-color: #8b5cf6;\n  color: #8b5cf6;\n}\n\n:host(.sg-badge--outlined.sg-badge--success) .badge {\n  border-color: var(--ui-color-success-500, #22c55e);\n  color: var(--ui-color-success-500, #22c55e);\n}\n\n:host(.sg-badge--outlined.sg-badge--warning) .badge {\n  border-color: var(--ui-color-warning-500, #f59e0b);\n  color: var(--ui-color-warning-500, #f59e0b);\n}\n\n:host(.sg-badge--outlined.sg-badge--error) .badge {\n  border-color: var(--ui-color-error-500, #ef4444);\n  color: var(--ui-color-error-500, #ef4444);\n}\n\n:host(.sg-badge--outlined.sg-badge--info) .badge {\n  border-color: #0ea5e9;\n  color: #0ea5e9;\n}\n\n:host(.sg-badge--outlined.sg-badge--neutral) .badge {\n  border-color: var(--ui-color-neutral-600, #4b5563);\n  color: var(--ui-color-neutral-600, #4b5563);\n}\n\n:host(.sg-badge--outlined.sg-badge--purple) .badge {\n  border-color: #a855f7;\n  color: #a855f7;\n}\n\n:host(.sg-badge--outlined.sg-badge--cyan) .badge {\n  border-color: #06b6d4;\n  color: #06b6d4;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * PILL SHAPE\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n:host(.sg-badge--pill) .badge {\n  border-radius: 9999px;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * CLICKABLE STATE\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n:host(.sg-badge--clickable) .badge {\n  cursor: pointer;\n}\n\n:host(.sg-badge--clickable) .badge:hover {\n  filter: brightness(1.1);\n  transform: translateY(-1px);\n}\n\n:host(.sg-badge--clickable) .badge:active {\n  transform: translateY(0);\n}\n\n:host(.sg-badge--clickable.sg-badge--outlined) .badge:hover,\n:host(.sg-badge--clickable.sg-badge--soft) .badge:hover {\n  filter: none;\n}\n\n:host(.sg-badge--clickable.sg-badge--outlined) .badge:hover {\n  background: currentColor;\n  color: white;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * STATUS DOT\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.dot {\n  position: relative;\n  display: inline-block;\n  width: 0.5em;\n  height: 0.5em;\n  border-radius: 50%;\n  background: currentColor;\n  flex-shrink: 0;\n}\n\n/* Pulse animation */\n.dot-pulse {\n  position: absolute;\n  inset: -2px;\n  border-radius: 50%;\n  background: currentColor;\n  opacity: 0.4;\n  animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n}\n\n@keyframes pulse {\n  0%,\n  100% {\n    opacity: 0.4;\n    transform: scale(1);\n  }\n  50% {\n    opacity: 0;\n    transform: scale(1.5);\n  }\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * ICON\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.icon {\n  display: inline-flex;\n  align-items: center;\n  flex-shrink: 0;\n}\n\n.icon:empty {\n  display: none;\n}\n\n.icon ::slotted(*) {\n  width: 1em;\n  height: 1em;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * CONTENT\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.content {\n  display: inline-flex;\n  align-items: center;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * DARK MODE\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n@media (prefers-color-scheme: dark) {\n  :host(.sg-badge--soft.sg-badge--primary) .badge {\n    background: rgba(59, 130, 246, 0.2);\n    color: #60a5fa;\n  }\n\n  :host(.sg-badge--soft.sg-badge--secondary) .badge {\n    background: rgba(139, 92, 246, 0.2);\n    color: #a78bfa;\n  }\n\n  :host(.sg-badge--soft.sg-badge--success) .badge {\n    background: rgba(34, 197, 94, 0.2);\n    color: #4ade80;\n  }\n\n  :host(.sg-badge--soft.sg-badge--warning) .badge {\n    background: rgba(245, 158, 11, 0.2);\n    color: #fbbf24;\n  }\n\n  :host(.sg-badge--soft.sg-badge--error) .badge {\n    background: rgba(239, 68, 68, 0.2);\n    color: #f87171;\n  }\n\n  :host(.sg-badge--soft.sg-badge--info) .badge {\n    background: rgba(14, 165, 233, 0.2);\n    color: #38bdf8;\n  }\n\n  :host(.sg-badge--soft.sg-badge--neutral) .badge {\n    background: rgba(156, 163, 175, 0.2);\n    color: #d1d5db;\n  }\n\n  :host(.sg-badge--soft.sg-badge--purple) .badge {\n    background: rgba(168, 85, 247, 0.2);\n    color: #c084fc;\n  }\n\n  :host(.sg-badge--soft.sg-badge--cyan) .badge {\n    background: rgba(6, 182, 212, 0.2);\n    color: #22d3ee;\n  }\n}\n\n/* Dark theme attribute support */\n:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--primary .badge,\n:host-context(.dark) .sg-badge--soft.sg-badge--primary .badge {\n  background: rgba(59, 130, 246, 0.2);\n  color: #60a5fa;\n}\n\n:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--secondary .badge,\n:host-context(.dark) .sg-badge--soft.sg-badge--secondary .badge {\n  background: rgba(139, 92, 246, 0.2);\n  color: #a78bfa;\n}\n\n:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--success .badge,\n:host-context(.dark) .sg-badge--soft.sg-badge--success .badge {\n  background: rgba(34, 197, 94, 0.2);\n  color: #4ade80;\n}\n\n:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--warning .badge,\n:host-context(.dark) .sg-badge--soft.sg-badge--warning .badge {\n  background: rgba(245, 158, 11, 0.2);\n  color: #fbbf24;\n}\n\n:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--error .badge,\n:host-context(.dark) .sg-badge--soft.sg-badge--error .badge {\n  background: rgba(239, 68, 68, 0.2);\n  color: #f87171;\n}\n\n:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--info .badge,\n:host-context(.dark) .sg-badge--soft.sg-badge--info .badge {\n  background: rgba(14, 165, 233, 0.2);\n  color: #38bdf8;\n}\n\n:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--neutral .badge,\n:host-context(.dark) .sg-badge--soft.sg-badge--neutral .badge {\n  background: rgba(156, 163, 175, 0.2);\n  color: #d1d5db;\n}\n","import { Component, Prop, Host, h } from '@stencil/core';\n\nexport type BadgeVariant = 'primary' | 'secondary' | 'success' | 'warning' | 'error' | 'info' | 'neutral' | 'purple' | 'cyan';\n\nexport type BadgeSize = 'xs' | 'sm' | 'md' | 'lg';\n\n/**\n * @virtualProp {\"primary\" | \"secondary\" | \"success\" | \"warning\" | \"error\" | \"info\" | \"neutral\" | \"purple\" | \"cyan\"} variant - Color variant\n * @virtualProp {\"xs\" | \"sm\" | \"md\" | \"lg\"} size - Size of the badge\n *\n * @slot - Default slot for badge content\n * @slot icon - Optional icon slot (displayed before text)\n *\n * @part badge - The badge element\n * @part icon - The icon wrapper\n * @part content - The text content wrapper\n *\n * @example\n * ### Angular\n * ```html\n * <sg-badge variant=\"success\">Active</sg-badge>\n * <sg-badge variant=\"error\" size=\"sm\" dot>Offline</sg-badge>\n * <sg-badge variant=\"info\" pill>New Feature</sg-badge>\n * <sg-badge variant=\"warning\">\n *   <sg-icon slot=\"icon\" name=\"alert-triangle\" size=\"12\"></sg-icon>\n *   Warning\n * </sg-badge>\n * ```\n *\n * ### React\n * ```jsx\n * <sg-badge variant=\"primary\" outlined>Beta</sg-badge>\n * <sg-badge variant=\"success\" pulse>Live</sg-badge>\n * ```\n *\n * ### Vanilla JS\n * ```html\n * <sg-badge variant=\"info\" size=\"lg\">Featured</sg-badge>\n * <sg-badge variant=\"neutral\" removable id=\"tag1\">Tag 1</sg-badge>\n * <script>\n *   document.querySelector('#tag1').addEventListener('sgRemove', (e) => {\n *     e.target.remove();\n *   });\n * </script>\n * ```\n */\n@Component({\n  tag: 'sg-badge',\n  styleUrl: 'badge.css',\n  shadow: true,\n})\nexport class SgBadge {\n  /**\n   * Color variant of the badge\n   */\n  @Prop({ reflect: true }) variant: BadgeVariant = 'primary';\n\n  /**\n   * Size of the badge\n   */\n  @Prop({ reflect: true }) size: BadgeSize = 'md';\n\n  /**\n   * Display as pill shape (fully rounded)\n   */\n  @Prop({ reflect: true }) pill: boolean = false;\n\n  /**\n   * Display as outlined style (transparent background with border)\n   */\n  @Prop({ reflect: true }) outlined: boolean = false;\n\n  /**\n   * Show a status dot indicator\n   */\n  @Prop({ reflect: true }) dot: boolean = false;\n\n  /**\n   * Apply pulse animation to the dot\n   */\n  @Prop({ reflect: true }) pulse: boolean = false;\n\n  /**\n   * Make the badge clickable/interactive\n   */\n  @Prop({ reflect: true }) clickable: boolean = false;\n\n  /**\n   * Custom icon name (if using sg-icon internally)\n   */\n  @Prop({ reflect: true }) icon: string;\n\n  /**\n   * Display as soft/subtle style (lighter background)\n   */\n  @Prop({ reflect: true }) soft: boolean = false;\n\n  private getHostClasses(): Record<string, boolean> {\n    return {\n      [`sg-badge--${this.variant}`]: true,\n      [`sg-badge--${this.size}`]: true,\n      'sg-badge--pill': this.pill,\n      'sg-badge--outlined': this.outlined,\n      'sg-badge--soft': this.soft,\n      'sg-badge--clickable': this.clickable,\n      'sg-badge--has-dot': this.dot,\n      'sg-badge--pulse': this.pulse,\n    };\n  }\n\n  render() {\n    return (\n      <Host class={this.getHostClasses()}>\n        <span class=\"badge\" part=\"badge\">\n          {/* Status dot */}\n          {this.dot && (\n            <span class=\"dot\" aria-hidden=\"true\">\n              {this.pulse && <span class=\"dot-pulse\"></span>}\n            </span>\n          )}\n\n          {/* Icon slot */}\n          <span class=\"icon\" part=\"icon\">\n            <slot name=\"icon\"></slot>\n          </span>\n\n          {/* Content */}\n          <span class=\"content\" part=\"content\">\n            <slot></slot>\n          </span>\n        </span>\n      </Host>\n    );\n  }\n}\n","/**\n * SageBox Button Component\n * A versatile button with variants, sizes, and states\n *\n * Uses global design tokens from @sagebox/core:\n * --ui-color-*, --ui-text, --ui-border, --ui-radius-*, --ui-font-*\n */\n\n:host {\n  display: inline-flex;\n  vertical-align: middle;\n}\n\n:host(.sg-button--block) {\n  display: flex;\n  width: 100%;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * BASE BUTTON\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.button {\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  font-family: var(--ui-font-sans, 'Inter', system-ui, -apple-system, sans-serif);\n  font-weight: 600;\n  white-space: nowrap;\n  cursor: pointer;\n  user-select: none;\n  border: 1.5px solid transparent;\n  border-radius: var(--ui-radius-md, 0.5rem);\n  outline: none;\n  overflow: hidden;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  -webkit-tap-highlight-color: transparent;\n}\n\n.button:focus-visible {\n  box-shadow: 0 0 0 3px var(--ui-color-primary-300, rgba(59, 130, 246, 0.4));\n}\n\n.button:active:not(:disabled) {\n  transform: scale(0.97);\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * SIZE VARIANTS\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n:host(.sg-button--xs) .button {\n  height: 1.75rem;\n  min-height: 1.75rem;\n  padding: 0 0.625rem;\n  font-size: 0.75rem;\n  gap: 0.375rem;\n}\n\n:host(.sg-button--sm) .button {\n  height: 2rem;\n  min-height: 2rem;\n  padding: 0 0.875rem;\n  font-size: 0.8125rem;\n  gap: 0.375rem;\n}\n\n:host(.sg-button--md) .button {\n  height: 2.5rem;\n  min-height: 2.5rem;\n  padding: 0 1.25rem;\n  font-size: 0.875rem;\n  gap: 0.5rem;\n}\n\n:host(.sg-button--lg) .button {\n  height: 3rem;\n  min-height: 3rem;\n  padding: 0 1.75rem;\n  font-size: 1rem;\n  gap: 0.625rem;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * COLOR VARIANTS\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n/* Primary */\n:host(.sg-button--primary) .button {\n  background: linear-gradient(135deg, var(--ui-color-primary-500, #3b82f6) 0%, var(--ui-color-primary-600, #2563eb) 100%);\n  color: var(--ui-text-inverse, white);\n  box-shadow: 0 2px 8px -2px rgba(59, 130, 246, 0.4);\n}\n\n:host(.sg-button--primary) .button:hover:not(:disabled) {\n  background: linear-gradient(135deg, var(--ui-color-primary-400, #60a5fa) 0%, var(--ui-color-primary-500, #3b82f6) 100%);\n  box-shadow: 0 4px 12px -2px rgba(59, 130, 246, 0.5);\n  transform: translateY(-1px);\n}\n\n/* Secondary */\n:host(.sg-button--secondary) .button {\n  background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);\n  color: var(--ui-text-inverse, white);\n  box-shadow: 0 2px 8px -2px rgba(139, 92, 246, 0.4);\n}\n\n:host(.sg-button--secondary) .button:hover:not(:disabled) {\n  background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%);\n  box-shadow: 0 4px 12px -2px rgba(139, 92, 246, 0.5);\n  transform: translateY(-1px);\n}\n\n/* Ghost */\n:host(.sg-button--ghost) .button {\n  background: transparent;\n  color: var(--ui-text, #1f2937);\n}\n\n:host(.sg-button--ghost) .button:hover:not(:disabled) {\n  background: var(--ui-bg-tertiary, rgba(0, 0, 0, 0.05));\n}\n\n/* Outline */\n:host(.sg-button--outline) .button {\n  background: transparent;\n  color: var(--ui-text, #1f2937);\n  border-color: var(--ui-border, #d1d5db);\n}\n\n:host(.sg-button--outline) .button:hover:not(:disabled) {\n  background: var(--ui-bg-secondary, rgba(0, 0, 0, 0.03));\n  border-color: var(--ui-border-strong, #9ca3af);\n}\n\n/* Success */\n:host(.sg-button--success) .button {\n  background: linear-gradient(135deg, var(--ui-color-success-500, #22c55e) 0%, var(--ui-color-success-600, #16a34a) 100%);\n  color: var(--ui-text-inverse, white);\n  box-shadow: 0 2px 8px -2px rgba(34, 197, 94, 0.4);\n}\n\n:host(.sg-button--success) .button:hover:not(:disabled) {\n  box-shadow: 0 4px 12px -2px rgba(34, 197, 94, 0.5);\n  transform: translateY(-1px);\n}\n\n/* Warning */\n:host(.sg-button--warning) .button {\n  background: linear-gradient(135deg, var(--ui-color-warning-500, #f59e0b) 0%, var(--ui-color-warning-600, #d97706) 100%);\n  color: var(--ui-color-neutral-800, #1e293b);\n  box-shadow: 0 2px 8px -2px rgba(245, 158, 11, 0.4);\n}\n\n:host(.sg-button--warning) .button:hover:not(:disabled) {\n  box-shadow: 0 4px 12px -2px rgba(245, 158, 11, 0.5);\n  transform: translateY(-1px);\n}\n\n/* Error */\n:host(.sg-button--error) .button {\n  background: linear-gradient(135deg, var(--ui-color-error-500, #ef4444) 0%, var(--ui-color-error-600, #dc2626) 100%);\n  color: var(--ui-text-inverse, white);\n  box-shadow: 0 2px 8px -2px rgba(239, 68, 68, 0.4);\n}\n\n:host(.sg-button--error) .button:hover:not(:disabled) {\n  box-shadow: 0 4px 12px -2px rgba(239, 68, 68, 0.5);\n  transform: translateY(-1px);\n}\n\n/* Info */\n:host(.sg-button--info) .button {\n  background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);\n  color: var(--ui-text-inverse, white);\n  box-shadow: 0 2px 8px -2px rgba(14, 165, 233, 0.4);\n}\n\n:host(.sg-button--info) .button:hover:not(:disabled) {\n  box-shadow: 0 4px 12px -2px rgba(14, 165, 233, 0.5);\n  transform: translateY(-1px);\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * SHAPE VARIANTS\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n:host(.sg-button--circle) .button,\n:host(.sg-button--square) .button {\n  padding: 0;\n  aspect-ratio: 1;\n}\n\n:host(.sg-button--circle) .button {\n  border-radius: 50%;\n}\n\n:host(.sg-button--pill) .button {\n  border-radius: 9999px;\n}\n\n:host(.sg-button--block) .button {\n  width: 100%;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * STATES\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n:host(.sg-button--disabled) .button,\n:host(.sg-button--loading) .button {\n  cursor: not-allowed;\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n:host(.sg-button--loading) .button {\n  cursor: wait;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * ICONS\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.icon {\n  display: inline-flex;\n  flex-shrink: 0;\n  width: 1.125em;\n  height: 1.125em;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * LOADING SPINNER\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.spinner-wrapper {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.spinner {\n  width: 1.25em;\n  height: 1.25em;\n  animation: spin 1s linear infinite;\n}\n\n.spinner-track {\n  opacity: 0.25;\n}\n\n.spinner-head {\n  opacity: 0.75;\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * CONTENT\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.content {\n  display: inline-flex;\n  align-items: center;\n  gap: inherit;\n  transition: opacity 0.15s ease;\n}\n\n.content--hidden {\n  opacity: 0;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * RIPPLE EFFECT\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.ripple-container {\n  position: absolute;\n  inset: 0;\n  overflow: hidden;\n  border-radius: inherit;\n  pointer-events: none;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * DARK MODE\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n@media (prefers-color-scheme: dark) {\n  :host(.sg-button--ghost) .button {\n    color: var(--ui-text-inverse, #e5e7eb);\n  }\n\n  :host(.sg-button--ghost) .button:hover:not(:disabled) {\n    background: rgba(255, 255, 255, 0.1);\n  }\n\n  :host(.sg-button--outline) .button {\n    color: var(--ui-text-inverse, #e5e7eb);\n    border-color: var(--ui-border, rgba(255, 255, 255, 0.2));\n  }\n\n  :host(.sg-button--outline) .button:hover:not(:disabled) {\n    background: rgba(255, 255, 255, 0.1);\n    border-color: var(--ui-border-strong, rgba(255, 255, 255, 0.4));\n  }\n}\n\n/* Dark theme attribute support */\n:host-context([data-theme='dark']) .sg-button--ghost .button,\n:host-context(.dark) .sg-button--ghost .button {\n  color: var(--ui-text-inverse, #e5e7eb);\n}\n\n:host-context([data-theme='dark']) .sg-button--ghost .button:hover:not(:disabled),\n:host-context(.dark) .sg-button--ghost .button:hover:not(:disabled) {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n:host-context([data-theme='dark']) .sg-button--outline .button,\n:host-context(.dark) .sg-button--outline .button {\n  color: var(--ui-text-inverse, #e5e7eb);\n  border-color: var(--ui-border, rgba(255, 255, 255, 0.2));\n}\n\n:host-context([data-theme='dark']) .sg-button--outline .button:hover:not(:disabled),\n:host-context(.dark) .sg-button--outline .button:hover:not(:disabled) {\n  background: rgba(255, 255, 255, 0.1);\n  border-color: var(--ui-border-strong, rgba(255, 255, 255, 0.4));\n}\n","import { Component, Prop, Event, EventEmitter, h, Host, Element } from '@stencil/core';\n\nexport type ButtonVariant = 'primary' | 'secondary' | 'ghost' | 'outline' | 'success' | 'warning' | 'error' | 'info';\nexport type ButtonSize = 'xs' | 'sm' | 'md' | 'lg';\nexport type ButtonShape = 'default' | 'circle' | 'square' | 'pill' | 'block';\n\n/**\n * @component sg-button\n * @description A versatile button component with multiple variants, sizes, and states.\n * Framework-agnostic: works with Angular, React, Vue, and vanilla JS without wrappers.\n *\n * @example\n * <!-- ═══════════════════════════════════════════════════════════════════════════════\n *      VANILLA HTML / JS\n *      ═══════════════════════════════════════════════════════════════════════════════ -->\n * <sg-button>Click me</sg-button>\n * <sg-button variant=\"primary\">Primary</sg-button>\n * <sg-button variant=\"outline\" size=\"lg\">Large Outline</sg-button>\n * <sg-button variant=\"success\" leading-icon=\"check\">Save</sg-button>\n * <sg-button loading>Loading...</sg-button>\n * <sg-button disabled>Disabled</sg-button>\n * <sg-button shape=\"pill\" variant=\"secondary\">Pill Button</sg-button>\n *\n * <script>\n *   document.querySelector('sg-button').addEventListener('sgClick', (e) => {\n *     console.log('Button clicked!', e.detail);\n *   });\n * </script>\n *\n * <!-- ═══════════════════════════════════════════════════════════════════════════════\n *      ANGULAR (no wrapper needed, add CUSTOM_ELEMENTS_SCHEMA)\n *      ═══════════════════════════════════════════════════════════════════════════════ -->\n * <sg-button\n *   variant=\"primary\"\n *   [attr.loading]=\"isLoading || null\"\n *   [attr.disabled]=\"isDisabled || null\"\n *   (sgClick)=\"handleClick($event)\">\n *   Save Changes\n * </sg-button>\n *\n * <!-- ═══════════════════════════════════════════════════════════════════════════════\n *      REACT (use kebab-case attributes)\n *      ═══════════════════════════════════════════════════════════════════════════════ -->\n * <sg-button\n *   variant=\"primary\"\n *   leading-icon=\"save\"\n *   loading={isLoading}\n *   onSgClick={(e) => handleClick(e.detail)}>\n *   Save Changes\n * </sg-button>\n *\n * @slot - Button content (text, icons, etc.)\n *\n * @fires sgClick - Emitted when button is clicked (not disabled/loading)\n *\n * @cssprop --sg-btn-bg - Button background color\n * @cssprop --sg-btn-color - Button text color\n * @cssprop --sg-btn-border-color - Button border color\n * @cssprop --sg-btn-radius - Button border radius\n * @cssprop --sg-btn-shadow - Button box shadow\n */\n@Component({\n  tag: 'sg-button',\n  styleUrl: 'button.css',\n  shadow: true,\n})\nexport class SgButton {\n  @Element() el!: HTMLElement;\n\n  /**\n   * Button color variant\n   * @attr variant\n   */\n  @Prop({ reflect: true }) variant: ButtonVariant = 'primary';\n\n  /**\n   * Button size\n   * @attr size\n   */\n  @Prop({ reflect: true }) size: ButtonSize = 'md';\n\n  /**\n   * Button shape\n   * @attr shape\n   */\n  @Prop({ reflect: true }) shape: ButtonShape = 'default';\n\n  /**\n   * Disable the button\n   * @attr disabled\n   */\n  @Prop({ reflect: true }) disabled: boolean = false;\n\n  /**\n   * Show loading spinner\n   * @attr loading\n   */\n  @Prop({ reflect: true }) loading: boolean = false;\n\n  /**\n   * Loading text (replaces content while loading)\n   * @attr loading-text\n   */\n  @Prop({ attribute: 'loading-text' }) loadingText?: string;\n\n  /**\n   * Leading icon name (from sg-icon)\n   * @attr leading-icon\n   */\n  @Prop({ attribute: 'leading-icon' }) leadingIcon?: string;\n\n  /**\n   * Trailing icon name (from sg-icon)\n   * @attr trailing-icon\n   */\n  @Prop({ attribute: 'trailing-icon' }) trailingIcon?: string;\n\n  /**\n   * Button type attribute\n   * @attr type\n   */\n  @Prop() type: 'button' | 'submit' | 'reset' = 'button';\n\n  /**\n   * Accessible label\n   */\n  @Prop() label?: string;\n\n  /**\n   * Click event (emitted when not disabled/loading)\n   */\n  @Event() sgClick!: EventEmitter<MouseEvent>;\n\n  private handleClick = (event: MouseEvent) => {\n    if (this.disabled || this.loading) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    this.sgClick.emit(event);\n  };\n\n  private handleKeyDown = (event: KeyboardEvent) => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      if (this.disabled || this.loading) {\n        event.preventDefault();\n        return;\n      }\n      event.preventDefault();\n      this.sgClick.emit(event as unknown as MouseEvent);\n    }\n  };\n\n  private renderSpinner() {\n    return (\n      <svg class=\"spinner\" viewBox=\"0 0 24 24\" fill=\"none\">\n        <circle class=\"spinner-track\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\" />\n        <path\n          class=\"spinner-head\"\n          fill=\"currentColor\"\n          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n        />\n      </svg>\n    );\n  }\n\n  private renderIcon(iconName: string, position: 'leading' | 'trailing') {\n    return <sg-icon name={iconName} class={`icon icon-${position}`} size=\"1em\" />;\n  }\n\n  render() {\n    const hostClasses = {\n      'sg-button': true,\n      [`sg-button--${this.variant}`]: true,\n      [`sg-button--${this.size}`]: true,\n      [`sg-button--${this.shape}`]: this.shape !== 'default',\n      'sg-button--disabled': this.disabled,\n      'sg-button--loading': this.loading,\n    };\n\n    return (\n      <Host class={hostClasses}>\n        <button\n          type={this.type}\n          class=\"button\"\n          disabled={this.disabled || this.loading}\n          aria-disabled={this.disabled || this.loading ? 'true' : undefined}\n          aria-busy={this.loading ? 'true' : undefined}\n          aria-label={this.label}\n          onClick={this.handleClick}\n          onKeyDown={this.handleKeyDown}\n        >\n          {/* Ripple container */}\n          <span class=\"ripple-container\" />\n\n          {/* Loading spinner */}\n          {this.loading && <span class=\"spinner-wrapper\">{this.renderSpinner()}</span>}\n\n          {/* Leading icon */}\n          {this.leadingIcon && !this.loading && this.renderIcon(this.leadingIcon, 'leading')}\n\n          {/* Content */}\n          <span class={{ content: true, 'content--hidden': this.loading && !this.loadingText }}>\n            {this.loading && this.loadingText ? this.loadingText : <slot />}\n          </span>\n\n          {/* Trailing icon */}\n          {this.trailingIcon && !this.loading && this.renderIcon(this.trailingIcon, 'trailing')}\n        </button>\n      </Host>\n    );\n  }\n}\n","/**\n * SageBox Dropdown Component\n * A flexible dropdown menu with header/footer slots\n *\n * Uses global design tokens from @sagebox/core:\n * --ui-bg, --ui-border, --ui-radius-*, --ui-shadow-*, --ui-text-*\n */\n\n:host {\n  display: inline-block;\n  position: relative;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * CONTAINER\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.container {\n  position: relative;\n  display: inline-block;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * TRIGGER\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.trigger {\n  display: inline-flex;\n  cursor: pointer;\n}\n\n:host(.sg-dropdown--disabled) .trigger {\n  cursor: not-allowed;\n  opacity: 0.5;\n  pointer-events: none;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * BACKDROP\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.backdrop {\n  position: fixed;\n  inset: 0;\n  background: var(--ui-bg-overlay, rgba(0, 0, 0, 0.3));\n  z-index: 40;\n  animation: fadeIn 0.15s ease;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * CONTENT\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.content {\n  position: absolute;\n  z-index: 9999;\n  min-width: var(--dropdown-min-width, 200px);\n  max-height: var(--dropdown-max-height, 320px);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n\n  background: var(--ui-bg-elevated, #ffffff);\n  border: 1px solid var(--ui-border, rgba(0, 0, 0, 0.1));\n  border-radius: var(--ui-radius-lg, 0.75rem);\n  box-shadow: var(--ui-shadow-lg, 0 10px 40px -10px rgba(0, 0, 0, 0.2), 0 4px 12px -4px rgba(0, 0, 0, 0.1));\n\n  animation: slideIn 0.2s cubic-bezier(0.16, 1, 0.3, 1);\n  transform-origin: top;\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-8px) scale(0.96);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n/* Position: Bottom (default) */\n:host(.sg-dropdown--position-bottom) .content {\n  top: 100%;\n  margin-top: 0.5rem;\n}\n\n/* Position: Top */\n:host(.sg-dropdown--position-top) .content {\n  bottom: 100%;\n  margin-bottom: 0.5rem;\n  transform-origin: bottom;\n}\n\n:host(.sg-dropdown--position-top) .content {\n  animation-name: slideInUp;\n}\n\n@keyframes slideInUp {\n  from {\n    opacity: 0;\n    transform: translateY(8px) scale(0.96);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n/* Align: Start (default) */\n:host(.sg-dropdown--align-start) .content {\n  left: 0;\n}\n\n/* Align: End */\n:host(.sg-dropdown--align-end) .content {\n  right: 0;\n}\n\n/* Align: Center */\n:host(.sg-dropdown--align-center) .content {\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n:host(.sg-dropdown--align-center) .content {\n  animation: slideInCenter 0.2s cubic-bezier(0.16, 1, 0.3, 1);\n}\n\n@keyframes slideInCenter {\n  from {\n    opacity: 0;\n    transform: translateX(-50%) translateY(-8px) scale(0.96);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(-50%) translateY(0) scale(1);\n  }\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * HEADER\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.header {\n  flex-shrink: 0;\n}\n\n.header:empty {\n  display: none;\n}\n\n.header ::slotted(*) {\n  padding: 0.75rem 1rem;\n  border-bottom: 1px solid var(--ui-border, rgba(0, 0, 0, 0.08));\n  font-size: 0.75rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  color: var(--ui-text-muted, #4b5563);\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * ITEMS (scrollable area)\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.items {\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  padding: 0.375rem;\n  overscroll-behavior: contain;\n}\n\n/* Custom scrollbar */\n.items::-webkit-scrollbar {\n  width: 6px;\n}\n\n.items::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.items::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.15);\n  border-radius: 3px;\n}\n\n.items::-webkit-scrollbar-thumb:hover {\n  background: rgba(0, 0, 0, 0.25);\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * FOOTER\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n.footer {\n  flex-shrink: 0;\n}\n\n.footer:empty {\n  display: none;\n}\n\n.footer ::slotted(*) {\n  padding: 0.625rem 1rem;\n  border-top: 1px solid var(--ui-border, rgba(0, 0, 0, 0.08));\n  font-size: 0.75rem;\n  color: var(--ui-text-muted, #4b5563);\n  background: var(--ui-bg-secondary, rgba(0, 0, 0, 0.02));\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * SIZE VARIANTS\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n:host(.sg-dropdown--size-sm) .content {\n  border-radius: 0.5rem;\n}\n\n:host(.sg-dropdown--size-sm) .items {\n  padding: 0.25rem;\n}\n\n:host(.sg-dropdown--size-sm) .header ::slotted(*) {\n  padding: 0.5rem 0.75rem;\n  font-size: 0.6875rem;\n}\n\n:host(.sg-dropdown--size-sm) .footer ::slotted(*) {\n  padding: 0.5rem 0.75rem;\n  font-size: 0.6875rem;\n}\n\n:host(.sg-dropdown--size-lg) .content {\n  border-radius: 1rem;\n}\n\n:host(.sg-dropdown--size-lg) .items {\n  padding: 0.5rem;\n}\n\n:host(.sg-dropdown--size-lg) .header ::slotted(*) {\n  padding: 1rem 1.25rem;\n  font-size: 0.8125rem;\n}\n\n:host(.sg-dropdown--size-lg) .footer ::slotted(*) {\n  padding: 0.875rem 1.25rem;\n  font-size: 0.8125rem;\n}\n\n/* ═══════════════════════════════════════════════════════════════════════════\n * DARK MODE - Uses global tokens automatically\n * ═══════════════════════════════════════════════════════════════════════════ */\n\n/* Dark theme attribute support */\n:host-context([data-theme='dark']) .content,\n:host-context(.dark) .content {\n  background: var(--ui-bg-elevated, #1f2937);\n  border-color: var(--ui-border, rgba(255, 255, 255, 0.1));\n  box-shadow: var(--ui-shadow-lg, 0 10px 40px -10px rgba(0, 0, 0, 0.5), 0 4px 12px -4px rgba(0, 0, 0, 0.3));\n}\n\n:host-context([data-theme='dark']) .header ::slotted(*),\n:host-context(.dark) .header ::slotted(*),\n:host-context([data-theme='dark']) .footer ::slotted(*),\n:host-context(.dark) .footer ::slotted(*) {\n  color: var(--ui-text-muted, #d1d5db);\n  border-color: var(--ui-border, rgba(255, 255, 255, 0.1));\n}\n\n:host-context([data-theme='dark']) .footer ::slotted(*),\n:host-context(.dark) .footer ::slotted(*) {\n  background: var(--ui-bg-tertiary, rgba(255, 255, 255, 0.03));\n}\n\n:host-context([data-theme='dark']) .items::-webkit-scrollbar-thumb,\n:host-context(.dark) .items::-webkit-scrollbar-thumb {\n  background: rgba(255, 255, 255, 0.2);\n}\n","import { Component, Prop, State, Event, EventEmitter, Element, Host, h, Listen, Method } from '@stencil/core';\n\n/**\n * @virtualProp {\"start\" | \"end\" | \"center\"} align - Horizontal alignment of the dropdown\n * @virtualProp {\"bottom\" | \"top\"} position - Position of the dropdown relative to trigger\n *\n * @slot trigger - Content that triggers the dropdown\n * @slot - Default slot for dropdown content\n * @slot header - Optional header content\n * @slot footer - Optional footer content\n *\n * @part container - The outer container\n * @part trigger - The trigger wrapper\n * @part content - The dropdown content wrapper\n * @part backdrop - The backdrop overlay (only on mobile)\n *\n * @example\n * ### Angular\n * ```html\n * <sg-dropdown align=\"start\" position=\"bottom\">\n *   <button slot=\"trigger\">Open Menu</button>\n *   <div slot=\"header\">Settings</div>\n *   <button>Option 1</button>\n *   <button>Option 2</button>\n *   <div slot=\"footer\">Logged in as Admin</div>\n * </sg-dropdown>\n * ```\n *\n * ### React\n * ```jsx\n * <sg-dropdown align=\"start\" closeOnSelect={false}>\n *   <button slot=\"trigger\">Menu</button>\n *   <div>Content here</div>\n * </sg-dropdown>\n * ```\n *\n * ### Vanilla JS\n * ```html\n * <sg-dropdown id=\"myDropdown\" align=\"end\" close-on-select=\"false\">\n *   <button slot=\"trigger\">Options</button>\n *   <ul>\n *     <li>Item 1</li>\n *     <li>Item 2</li>\n *   </ul>\n * </sg-dropdown>\n * <script>\n *   const dropdown = document.querySelector('#myDropdown');\n *   dropdown.addEventListener('sgOpen', (e) => console.log('Opened'));\n *   dropdown.addEventListener('sgClose', (e) => console.log('Closed'));\n * </script>\n * ```\n */\n@Component({\n  tag: 'sg-dropdown',\n  styleUrl: 'dropdown.css',\n  shadow: true,\n})\nexport class SgDropdown {\n  @Element() el: HTMLElement;\n\n  /**\n   * Whether the dropdown is currently open\n   */\n  @Prop({ reflect: true, mutable: true }) open: boolean = false;\n\n  /**\n   * Horizontal alignment of the dropdown content relative to trigger\n   */\n  @Prop({ reflect: true }) align: 'start' | 'end' | 'center' = 'start';\n\n  /**\n   * Vertical position of the dropdown content\n   */\n  @Prop({ reflect: true }) position: 'bottom' | 'top' = 'bottom';\n\n  /**\n   * Whether to close the dropdown when an item is selected/clicked\n   */\n  @Prop({ reflect: true, attribute: 'close-on-select' }) closeOnSelect: boolean = true;\n\n  /**\n   * Minimum width of the dropdown content (e.g., \"200px\", \"12rem\")\n   */\n  @Prop({ reflect: true, attribute: 'min-width' }) minWidth: string = '200px';\n\n  /**\n   * Maximum height of the dropdown content for scrolling\n   */\n  @Prop({ reflect: true, attribute: 'max-height' }) maxHeight: string = '320px';\n\n  /**\n   * Whether the dropdown is disabled\n   */\n  @Prop({ reflect: true }) disabled: boolean = false;\n\n  /**\n   * Show a backdrop overlay (useful on mobile)\n   */\n  @Prop({ reflect: true, attribute: 'show-backdrop' }) showBackdrop: boolean = false;\n\n  /**\n   * Size variant\n   */\n  @Prop({ reflect: true }) size: 'sm' | 'md' | 'lg' = 'md';\n\n  // ─────────────────────────────────────────────────────────────────────────────\n  // STATE\n  // ─────────────────────────────────────────────────────────────────────────────\n\n  @State() focusedIndex: number = -1;\n\n  private triggerEl: HTMLElement;\n  private contentEl: HTMLElement;\n  private focusableItems: HTMLElement[] = [];\n\n  // ─────────────────────────────────────────────────────────────────────────────\n  // EVENTS\n  // ─────────────────────────────────────────────────────────────────────────────\n\n  /**\n   * Emitted when the dropdown opens\n   */\n  @Event({ eventName: 'sgOpen' }) sgOpen: EventEmitter<void>;\n\n  /**\n   * Emitted when the dropdown closes\n   */\n  @Event({ eventName: 'sgClose' }) sgClose: EventEmitter<void>;\n\n  /**\n   * Emitted when the open state changes\n   */\n  @Event({ eventName: 'sgToggle' }) sgToggle: EventEmitter<boolean>;\n\n  // ─────────────────────────────────────────────────────────────────────────────\n  // PUBLIC METHODS\n  // ─────────────────────────────────────────────────────────────────────────────\n\n  /**\n   * Opens the dropdown programmatically\n   */\n  @Method()\n  async openDropdown(): Promise<void> {\n    if (!this.disabled) {\n      this.open = true;\n      this.sgOpen.emit();\n      this.sgToggle.emit(true);\n      this.updateFocusableItems();\n    }\n  }\n\n  /**\n   * Closes the dropdown programmatically\n   */\n  @Method()\n  async closeDropdown(): Promise<void> {\n    this.open = false;\n    this.focusedIndex = -1;\n    this.sgClose.emit();\n    this.sgToggle.emit(false);\n  }\n\n  /**\n   * Toggles the dropdown open/closed\n   */\n  @Method()\n  async toggle(): Promise<void> {\n    if (this.open) {\n      await this.closeDropdown();\n    } else {\n      await this.openDropdown();\n    }\n  }\n\n  // ─────────────────────────────────────────────────────────────────────────────\n  // LISTENERS\n  // ─────────────────────────────────────────────────────────────────────────────\n\n  @Listen('click', { target: 'document' })\n  handleClickOutside(event: MouseEvent): void {\n    if (this.open && !this.el.contains(event.target as Node)) {\n      this.closeDropdown();\n    }\n  }\n\n  @Listen('keydown', { target: 'document' })\n  handleKeydown(event: KeyboardEvent): void {\n    if (!this.open) return;\n\n    switch (event.key) {\n      case 'Escape':\n        event.preventDefault();\n        this.closeDropdown();\n        this.triggerEl?.focus();\n        break;\n      case 'ArrowDown':\n        event.preventDefault();\n        this.moveFocus(1);\n        break;\n      case 'ArrowUp':\n        event.preventDefault();\n        this.moveFocus(-1);\n        break;\n      case 'Tab':\n        // Close on tab out\n        setTimeout(() => {\n          if (!this.el.contains(document.activeElement)) {\n            this.closeDropdown();\n          }\n        }, 0);\n        break;\n    }\n  }\n\n  // ─────────────────────────────────────────────────────────────────────────────\n  // PRIVATE METHODS\n  // ─────────────────────────────────────────────────────────────────────────────\n\n  private handleTriggerClick = (event: MouseEvent): void => {\n    event.stopPropagation();\n    if (!this.disabled) {\n      this.toggle();\n    }\n  };\n\n  private handleTriggerKeydown = (event: KeyboardEvent): void => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault();\n      this.toggle();\n    }\n    if (event.key === 'ArrowDown' && !this.open) {\n      event.preventDefault();\n      this.openDropdown();\n    }\n  };\n\n  private handleContentClick = (): void => {\n    if (this.closeOnSelect) {\n      this.closeDropdown();\n    }\n  };\n\n  private handleBackdropClick = (): void => {\n    this.closeDropdown();\n  };\n\n  private updateFocusableItems(): void {\n    setTimeout(() => {\n      if (this.contentEl) {\n        this.focusableItems = Array.from(this.contentEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'));\n      }\n    }, 0);\n  }\n\n  private moveFocus(direction: number): void {\n    if (this.focusableItems.length === 0) return;\n\n    this.focusedIndex = Math.max(0, Math.min(this.focusableItems.length - 1, this.focusedIndex + direction));\n\n    this.focusableItems[this.focusedIndex]?.focus();\n  }\n\n  private getHostClasses(): Record<string, boolean> {\n    return {\n      'sg-dropdown--open': this.open,\n      'sg-dropdown--disabled': this.disabled,\n      [`sg-dropdown--align-${this.align}`]: true,\n      [`sg-dropdown--position-${this.position}`]: true,\n      [`sg-dropdown--size-${this.size}`]: true,\n    };\n  }\n\n  // ─────────────────────────────────────────────────────────────────────────────\n  // RENDER\n  // ─────────────────────────────────────────────────────────────────────────────\n\n  render() {\n    return (\n      <Host class={this.getHostClasses()}>\n        {/* Backdrop for mobile */}\n        {this.showBackdrop && this.open && <div class=\"backdrop\" part=\"backdrop\" onClick={this.handleBackdropClick}></div>}\n\n        <div class=\"container\" part=\"container\">\n          {/* Trigger */}\n          <div\n            class=\"trigger\"\n            part=\"trigger\"\n            ref={el => (this.triggerEl = el)}\n            onClick={this.handleTriggerClick}\n            onKeyDown={this.handleTriggerKeydown}\n            role=\"button\"\n            tabindex={this.disabled ? -1 : 0}\n            aria-haspopup=\"menu\"\n            aria-expanded={this.open ? 'true' : 'false'}\n            aria-disabled={this.disabled ? 'true' : undefined}\n          >\n            <slot name=\"trigger\"></slot>\n          </div>\n\n          {/* Content */}\n          {this.open && (\n            <div\n              class=\"content\"\n              part=\"content\"\n              ref={el => (this.contentEl = el)}\n              role=\"menu\"\n              aria-orientation=\"vertical\"\n              style={{\n                '--dropdown-min-width': this.minWidth,\n                '--dropdown-max-height': this.maxHeight,\n              }}\n              onClick={this.handleContentClick}\n            >\n              {/* Header slot */}\n              <div class=\"header\">\n                <slot name=\"header\"></slot>\n              </div>\n\n              {/* Default slot for menu items */}\n              <div class=\"items\">\n                <slot></slot>\n              </div>\n\n              {/* Footer slot */}\n              <div class=\"footer\">\n                <slot name=\"footer\"></slot>\n              </div>\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n","/**\n * Built-in Icons for SageBox\n *\n * These are minimal built-in icons that ship with the library.\n * For custom icons, use the CLI: npx sagebox icons build\n */\n\nexport interface IconDefinition {\n  paths: string[];\n  viewBox?: string;\n  fillRule?: 'nonzero' | 'evenodd';\n}\n\n/**\n * Built-in icons - Essential set for library functionality and documentation\n * These are always available without any configuration\n */\nexport const builtinIcons: Record<string, IconDefinition> = {\n  // System icons\n  error: {\n    paths: ['M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z'],\n    viewBox: '0 0 24 24',\n  },\n  loading: {\n    paths: ['M12 2a10 10 0 0 1 10 10'],\n    viewBox: '0 0 24 24',\n  },\n\n  // Navigation icons\n  home: {\n    paths: ['M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z'],\n    viewBox: '0 0 24 24',\n  },\n  search: {\n    paths: [\n      'M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  menu: {\n    paths: ['M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z'],\n    viewBox: '0 0 24 24',\n  },\n  settings: {\n    paths: [\n      'M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  user: {\n    paths: ['M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z'],\n    viewBox: '0 0 24 24',\n  },\n  close: {\n    paths: ['M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z'],\n    viewBox: '0 0 24 24',\n  },\n\n  // Action icons\n  add: {\n    paths: ['M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z'],\n    viewBox: '0 0 24 24',\n  },\n  edit: {\n    paths: [\n      'M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  delete: {\n    paths: ['M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z'],\n    viewBox: '0 0 24 24',\n  },\n  save: {\n    paths: [\n      'M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  copy: {\n    paths: ['M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z'],\n    viewBox: '0 0 24 24',\n  },\n  download: {\n    paths: ['M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z'],\n    viewBox: '0 0 24 24',\n  },\n  upload: {\n    paths: ['M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z'],\n    viewBox: '0 0 24 24',\n  },\n\n  // Status icons\n  check: {\n    paths: ['M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z'],\n    viewBox: '0 0 24 24',\n  },\n  warning: {\n    paths: ['M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z'],\n    viewBox: '0 0 24 24',\n  },\n  info: {\n    paths: ['M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z'],\n    viewBox: '0 0 24 24',\n  },\n  success: {\n    paths: ['M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z'],\n    viewBox: '0 0 24 24',\n  },\n\n  // UI icons\n  'chevron-down': {\n    paths: ['M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z'],\n    viewBox: '0 0 24 24',\n  },\n  'chevron-up': {\n    paths: ['M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z'],\n    viewBox: '0 0 24 24',\n  },\n  'chevron-left': {\n    paths: ['M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z'],\n    viewBox: '0 0 24 24',\n  },\n  'chevron-right': {\n    paths: ['M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z'],\n    viewBox: '0 0 24 24',\n  },\n  'arrow-left': {\n    paths: ['M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z'],\n    viewBox: '0 0 24 24',\n  },\n  'arrow-right': {\n    paths: ['M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z'],\n    viewBox: '0 0 24 24',\n  },\n  'external-link': {\n    paths: ['M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z'],\n    viewBox: '0 0 24 24',\n  },\n  link: {\n    paths: [\n      'M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n\n  // Theme icons\n  sun: {\n    paths: [\n      'M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  moon: {\n    paths: ['M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.06 7 9.54 0 4.48-2.94 8.27-7 9.54.95.3 1.95.46 3 .46 5.52 0 10-4.48 10-10S14.52 2 9 2z'],\n    viewBox: '0 0 24 24',\n  },\n\n  // Media icons\n  play: {\n    paths: ['M8 5v14l11-7z'],\n    viewBox: '0 0 24 24',\n  },\n  pause: {\n    paths: ['M6 19h4V5H6v14zm8-14v14h4V5h-4z'],\n    viewBox: '0 0 24 24',\n  },\n  stop: {\n    paths: ['M6 6h12v12H6z'],\n    viewBox: '0 0 24 24',\n  },\n\n  // Communication icons\n  mail: {\n    paths: ['M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z'],\n    viewBox: '0 0 24 24',\n  },\n  notification: {\n    paths: [\n      'M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n\n  // Misc icons\n  star: {\n    paths: ['M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'],\n    viewBox: '0 0 24 24',\n  },\n  heart: {\n    paths: [\n      'M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  bookmark: {\n    paths: ['M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z'],\n    viewBox: '0 0 24 24',\n  },\n  share: {\n    paths: [\n      'M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  filter: {\n    paths: ['M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z'],\n    viewBox: '0 0 24 24',\n  },\n  sort: {\n    paths: ['M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z'],\n    viewBox: '0 0 24 24',\n  },\n  refresh: {\n    paths: [\n      'M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  'more-vertical': {\n    paths: [\n      'M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  'more-horizontal': {\n    paths: [\n      'M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  code: {\n    paths: ['M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z'],\n    viewBox: '0 0 24 24',\n  },\n  eye: {\n    paths: [\n      'M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  'eye-off': {\n    paths: [\n      'M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  lock: {\n    paths: [\n      'M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  unlock: {\n    paths: [\n      'M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  calendar: {\n    paths: [\n      'M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  clock: {\n    paths: [\n      'M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  folder: {\n    paths: ['M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z'],\n    viewBox: '0 0 24 24',\n  },\n  file: {\n    paths: ['M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z'],\n    viewBox: '0 0 24 24',\n  },\n  image: {\n    paths: ['M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z'],\n    viewBox: '0 0 24 24',\n  },\n  video: {\n    paths: ['M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z'],\n    viewBox: '0 0 24 24',\n  },\n  music: {\n    paths: ['M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z'],\n    viewBox: '0 0 24 24',\n  },\n  github: {\n    paths: [\n      'M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  npm: {\n    paths: [\n      'M0 7.334v8h6.666v1.332H12v-1.332h12v-8H0zm6.666 6.664H5.334v-4H3.999v4H1.335V8.667h5.331v5.331zm4 0v1.336H8.001V8.667h5.334v5.332h-2.669v-.001zm12.001 0h-1.33v-4h-1.336v4h-1.335v-4h-1.33v4h-2.671V8.667h8.002v5.331zM10.665 10H12v2.667h-1.335V10z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n\n  // Additional icons for documentation\n  palette: {\n    paths: [\n      'M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  lightning: {\n    paths: ['M7 2v11h3v9l7-12h-4l4-8z'],\n    viewBox: '0 0 24 24',\n  },\n  'file-text': {\n    paths: ['M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z'],\n    viewBox: '0 0 24 24',\n  },\n  'dark-mode': {\n    paths: ['M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.06 7 9.54 0 4.48-2.94 8.27-7 9.54.95.3 1.95.46 3 .46 5.52 0 10-4.48 10-10S14.52 2 9 2z'],\n    viewBox: '0 0 24 24',\n  },\n  dashboard: {\n    paths: ['M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z'],\n    viewBox: '0 0 24 24',\n  },\n  verified: {\n    paths: [\n      'M23 12l-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82 1.89 3.2L12 21.04l3.4 1.46 1.89-3.2 3.61-.82-.34-3.69L23 12zm-12.91 4.72l-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  rocket: {\n    paths: [\n      'M9.19 6.35c-2.04 2.29-3.44 5.58-3.57 5.89L2 10.69l4.05-4.05c.47-.47 1.15-.68 1.81-.55l1.33.26zM11.17 17s3.74-1.55 5.89-3.7c5.4-5.4 4.5-9.62 4.21-10.57-.95-.3-5.17-1.19-10.57 4.21C8.55 9.09 7 12.83 7 12.83L11.17 17zm6.48-2.19c-2.29 2.04-5.58 3.44-5.89 3.57L13.31 22l4.05-4.05c.47-.47.68-1.15.55-1.81l-.26-1.33zM9 18c0 .83-.34 1.58-.88 2.12C6.94 21.3 2 22 2 22s.7-4.94 1.88-6.12C4.42 15.34 5.17 15 6 15c1.66 0 3 1.34 3 3zm4-9c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  shield: {\n    paths: ['M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z'],\n    viewBox: '0 0 24 24',\n  },\n  box: {\n    paths: [\n      'M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  puzzle: {\n    paths: [\n      'M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  layers: {\n    paths: ['M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z'],\n    viewBox: '0 0 24 24',\n  },\n  zap: {\n    paths: [\n      'M11 21h-1l1-7H7.5c-.58 0-.57-.32-.38-.66.19-.34.05-.08.07-.12C8.48 10.94 10.42 7.54 13 3h1l-1 7h3.5c.49 0 .56.33.47.51l-.07.15C12.96 17.55 11 21 11 21z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  package: {\n    paths: [\n      'M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  terminal: {\n    paths: [\n      'M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  grid: {\n    paths: ['M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z'],\n    viewBox: '0 0 24 24',\n  },\n  list: {\n    paths: ['M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z'],\n    viewBox: '0 0 24 24',\n  },\n  book: {\n    paths: ['M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z'],\n    viewBox: '0 0 24 24',\n  },\n  'help-circle': {\n    paths: [\n      'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  tool: {\n    paths: [\n      'M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  cpu: {\n    paths: [\n      'M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  database: {\n    paths: [\n      'M12 3C7.58 3 4 4.79 4 7v10c0 2.21 3.59 4 8 4s8-1.79 8-4V7c0-2.21-3.58-4-8-4zm0 2c3.87 0 6 1.5 6 2s-2.13 2-6 2-6-1.5-6-2 2.13-2 6-2zM6 17v-2.42c1.23.85 3.28 1.42 6 1.42s4.77-.57 6-1.42V17c0 .5-2.13 2-6 2s-6-1.5-6-2zm0-5v-2.42C7.23 10.43 9.28 11 12 11s4.77-.57 6-1.42V12c0 .5-2.13 2-6 2s-6-1.5-6-2z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  cloud: {\n    paths: [\n      'M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  server: {\n    paths: [\n      'M20 13H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 19c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM20 3H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n  globe: {\n    paths: [\n      'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z',\n    ],\n    viewBox: '0 0 24 24',\n  },\n};\n\nexport type BuiltinIconName = keyof typeof builtinIcons;\n","/**\n * SVG Icon Component Styles\n *\n * CSS Custom Properties:\n * --icon-size: Size of the icon (default: 24px)\n * --icon-width: Width override\n * --icon-height: Height override\n * --icon-color: Icon color (default: currentColor)\n * --icon-transform: Transform applied to icon\n */\n\n:host {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--icon-color, currentColor);\n  vertical-align: middle;\n  line-height: 1;\n  flex-shrink: 0;\n}\n\n:host(.icon--spin) svg {\n  animation: icon-spin 1s linear infinite;\n}\n\n@keyframes icon-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\nsvg {\n  display: block;\n  width: 100%;\n  height: 100%;\n  fill: currentColor;\n  transform: var(--icon-transform, none);\n  transition: transform 0.2s ease;\n}\n\n/* Apply color to all fill elements in custom SVGs */\n:host(.icon--custom) svg,\n:host(.icon--custom) svg * {\n  fill: var(--icon-color, currentColor);\n}\n\n/* Preserve strokes if present */\n:host(.icon--custom) svg [stroke]:not([stroke='none']) {\n  stroke: var(--icon-color, currentColor);\n  fill: none;\n}\n\n/* User-registered icons (via registerIcons) */\n:host(.icon--user) .svg-container {\n  display: contents;\n}\n\n:host(.icon--user) .svg-container svg {\n  width: 100%;\n  height: 100%;\n  display: block;\n}\n\n:host(.icon--user) .svg-container svg [stroke]:not([stroke='none']),\n:host(.icon--user) .svg-container svg g[stroke]:not([stroke='none']),\n:host(.icon--user) .svg-container svg path[stroke]:not([stroke='none']),\n:host(.icon--user) .svg-container svg line[stroke]:not([stroke='none']),\n:host(.icon--user) .svg-container svg circle[stroke]:not([stroke='none']),\n:host(.icon--user) .svg-container svg rect[stroke]:not([stroke='none']),\n:host(.icon--user) .svg-container svg polyline[stroke]:not([stroke='none']) {\n  stroke: var(--icon-color, currentColor);\n}\n\n:host(.icon--user) .svg-container svg [fill='none'] {\n  fill: none;\n}\n\n:host(.icon--user) .svg-container svg [fill]:not([fill='none']):not([fill='currentColor']) {\n  fill: var(--icon-color, currentColor);\n}\n\n/* Error state */\n:host(.icon--error) {\n  opacity: 0.5;\n}\n\n/* Interactive states (when used in buttons) */\n:host(:hover) svg {\n  opacity: 0.9;\n}\n\n:host(:focus) {\n  outline: none;\n}\n\n/* Size presets using CSS variables */\n:host([data-size='xs']) {\n  --icon-size: 12px;\n}\n\n:host([data-size='sm']) {\n  --icon-size: 16px;\n}\n\n:host([data-size='md']) {\n  --icon-size: 24px;\n}\n\n:host([data-size='lg']) {\n  --icon-size: 32px;\n}\n\n:host([data-size='xl']) {\n  --icon-size: 48px;\n}\n\n:host([data-size='xxl']) {\n  --icon-size: 64px;\n}\n","import { Component, Prop, h, Host, Watch, State, Method, Element } from '@stencil/core';\nimport { builtinIcons, IconDefinition } from './icons/builtin';\n\n/** Global key for user-registered icons */\nconst ICONS_KEY = '__sgUserIcons';\n/** Global key for icons configuration */\nconst CONFIG_KEY = '__sgIconConfig';\n/** Global key for loaded JSON paths */\nconst LOADED_KEY = '__sgIconsLoaded';\n\n/** Type for icon storage in globalThis */\ninterface SgIconGlobals {\n  [ICONS_KEY]?: Record<string, IconDefinition | string>;\n  [CONFIG_KEY]?: { jsonSrc?: string };\n  [LOADED_KEY]?: Record<string, boolean>;\n}\n\n/** Typed globalThis accessor */\nfunction getGlobal(): SgIconGlobals {\n  return typeof globalThis !== 'undefined' ? (globalThis as unknown as SgIconGlobals) : {};\n}\n\n/**\n * Get user-registered icons from global storage\n */\nfunction getUserIcons(): Record<string, IconDefinition | string> {\n  const g = getGlobal();\n  return g[ICONS_KEY] ?? {};\n}\n\n/**\n * Get icon configuration\n */\nfunction getIconConfig(): { jsonSrc?: string } {\n  const g = getGlobal();\n  return g[CONFIG_KEY] ?? {};\n}\n\n/**\n * Check if a JSON path has been loaded\n */\nfunction isJsonLoaded(path: string): boolean {\n  const g = getGlobal();\n  return !!g[LOADED_KEY]?.[path];\n}\n\n/**\n * Mark a JSON path as loaded\n */\nfunction markJsonLoaded(path: string): void {\n  const g = getGlobal();\n  if (!g[LOADED_KEY]) {\n    g[LOADED_KEY] = {};\n  }\n  g[LOADED_KEY]![path] = true;\n}\n\n/**\n * Register icons globally\n */\nfunction registerIconsGlobal(icons: Record<string, string>): void {\n  const g = getGlobal();\n  if (!g[ICONS_KEY]) {\n    g[ICONS_KEY] = {};\n  }\n  Object.assign(g[ICONS_KEY]!, icons);\n}\n\n/**\n * @component sg-icon\n * @description SVG Icon component for SageBox - A flexible, accessible icon system\n *\n * @example\n * <!-- Basic usage with built-in icons -->\n * <sg-icon name=\"home\"></sg-icon>\n * <sg-icon name=\"icon-home\"></sg-icon>\n *\n * <!-- With custom size -->\n * <sg-icon name=\"settings\" size=\"32\"></sg-icon>\n *\n * <!-- With custom color (fill is an alias for color) -->\n * <sg-icon name=\"heart\" color=\"#ff0000\"></sg-icon>\n * <sg-icon name=\"heart\" fill=\"#ff0000\"></sg-icon>\n *\n * <!-- Custom icon via src (fetches SVG file) -->\n * <sg-icon src=\"/assets/custom-icon.svg\"></sg-icon>\n *\n * <!-- Load icons from JSON file -->\n * <sg-icon name=\"my-icon\" json-src=\"/assets/icons.json\"></sg-icon>\n */\n@Component({\n  tag: 'sg-icon',\n  styleUrl: 'svg-icon.css',\n  shadow: true,\n})\nexport class SgIcon {\n  @Element() el!: HTMLElement;\n\n  /**\n   * The name of the icon from the built-in library.\n   * Supports both 'name' and 'icon-name' formats for compatibility.\n   */\n  @Prop() name?: string;\n\n  /**\n   * URL to a custom SVG icon (alternative to name)\n   */\n  @Prop() src?: string;\n\n  /**\n   * URL to a JSON file containing icon definitions.\n   * The JSON should be an object mapping icon names to SVG strings.\n   * Icons are loaded once and cached globally.\n   *\n   * @example\n   * <sg-icon name=\"my-icon\" json-src=\"/assets/custom-icons.json\"></sg-icon>\n   */\n  @Prop() jsonSrc?: string;\n\n  /**\n   * Size of the icon in pixels\n   * @default 24\n   */\n  @Prop() size: number | string = 24;\n\n  /**\n   * Width of the icon (overrides size)\n   */\n  @Prop() width?: number | string;\n\n  /**\n   * Height of the icon (overrides size)\n   */\n  @Prop() height?: number | string;\n\n  /**\n   * Color of the icon (CSS color value)\n   * @default 'currentColor'\n   */\n  @Prop() color: string = 'currentColor';\n\n  /**\n   * Alias for color (for compatibility with legacy svg-icon components)\n   * @default undefined\n   */\n  @Prop() fill?: string;\n\n  /**\n   * Stroke width for outline icons\n   */\n  @Prop() strokeWidth?: number;\n\n  /**\n   * Whether the icon should spin (useful for loading icons)\n   * @default false\n   */\n  @Prop() spin: boolean = false;\n\n  /**\n   * Rotation angle in degrees\n   */\n  @Prop() rotate?: number;\n\n  /**\n   * Flip the icon horizontally\n   * @default false\n   */\n  @Prop() flipH: boolean = false;\n\n  /**\n   * Flip the icon vertically\n   * @default false\n   */\n  @Prop() flipV: boolean = false;\n\n  /**\n   * Accessible label for screen readers.\n   * If not provided, defaults to \"{name} icon\" for non-decorative icons.\n   */\n  @Prop({ mutable: true }) label?: string;\n\n  /**\n   * Whether the icon is decorative (hidden from screen readers)\n   * @default false\n   */\n  @Prop() decorative: boolean = false;\n\n  @State() customSvg: string | null = null;\n  @State() loadError: boolean = false;\n  @State() jsonLoading: boolean = false;\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // STATIC METHODS - Global Configuration API\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  /**\n   * Configure global settings for sg-icon\n   * @param config - Configuration object\n   * @example\n   * // Set a default JSON source for all icons\n   * SgIcon.configure({ jsonSrc: '/assets/custom-icons.json' });\n   */\n  static configure(config: { jsonSrc?: string }): void {\n    const g = getGlobal();\n    g[CONFIG_KEY] = { ...getIconConfig(), ...config };\n  }\n\n  /**\n   * Pre-load icons from a JSON file\n   * @param jsonPath - Path to the JSON file\n   */\n  static async loadIcons(jsonPath: string): Promise<void> {\n    if (isJsonLoaded(jsonPath)) return;\n\n    try {\n      const response = await fetch(jsonPath);\n      if (response.ok) {\n        const iconsData = await response.json();\n        registerIconsGlobal(iconsData);\n        markJsonLoaded(jsonPath);\n      }\n    } catch (error) {\n      console.error('[SageBox] Failed to load icons from:', jsonPath, error);\n    }\n  }\n\n  // ═══════════════════════════════════════════════════════════════════════════\n  // INSTANCE METHODS - Icon Registration API for users\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  /**\n   * Register multiple icons at once\n   * @param icons - Object with icon names as keys and SVG strings or IconDefinition as values\n   * @example\n   * // Using SVG strings (recommended for users)\n   * SgIcon.registerIcons({\n   *   'my-icon': '<svg viewBox=\"0 0 24 24\">...</svg>',\n   *   'another-icon': '<svg>...</svg>'\n   * });\n   *\n   * // Using IconDefinition objects\n   * SgIcon.registerIcons({\n   *   'my-icon': { paths: ['M12 2...'], viewBox: '0 0 24 24' }\n   * });\n   */\n  @Method()\n  async registerIcons(icons: Record<string, IconDefinition | string>): Promise<void> {\n    const g = getGlobal();\n    if (!g[ICONS_KEY]) {\n      g[ICONS_KEY] = {};\n    }\n    Object.assign(g[ICONS_KEY]!, icons);\n  }\n\n  /**\n   * Register a single icon\n   * @param name - Icon name to register\n   * @param icon - SVG string or IconDefinition\n   * @example\n   * SgIcon.registerIcon('my-custom-icon', '<svg viewBox=\"0 0 24 24\">...</svg>');\n   */\n  @Method()\n  async registerIcon(name: string, icon: IconDefinition | string): Promise<void> {\n    const g = getGlobal();\n    if (!g[ICONS_KEY]) {\n      g[ICONS_KEY] = {};\n    }\n    g[ICONS_KEY]![name] = icon;\n  }\n\n  /**\n   * Get list of all registered user icons\n   */\n  @Method()\n  async getRegisteredIcons(): Promise<string[]> {\n    return Object.keys(getUserIcons());\n  }\n\n  /**\n   * Check if an icon exists (built-in or user-registered)\n   */\n  @Method()\n  async hasIcon(name: string): Promise<boolean> {\n    const normalizedName = this.normalizeIconName(name);\n    const userIcons = getUserIcons();\n    return !!(userIcons[normalizedName] || userIcons[name] || builtinIcons[normalizedName] || builtinIcons[name]);\n  }\n\n  // ═══════════════════════════════════════════════════════════════════════════\n\n  @Watch('jsonSrc')\n  async onJsonSrcChange(newJsonSrc: string) {\n    if (newJsonSrc && !isJsonLoaded(newJsonSrc)) {\n      this.jsonLoading = true;\n      await this.loadIconsFromJson(newJsonSrc);\n    }\n  }\n\n  @Watch('src')\n  async loadCustomIcon(newSrc: string) {\n    if (newSrc) {\n      try {\n        const response = await fetch(newSrc);\n        if (response.ok) {\n          const svgText = await response.text();\n          this.customSvg = svgText;\n          this.loadError = false;\n        } else {\n          this.loadError = true;\n          console.error(`Failed to load icon from ${newSrc}`);\n        }\n      } catch (error) {\n        this.loadError = true;\n        console.error(`Error loading icon from ${newSrc}:`, error);\n      }\n    }\n  }\n\n  componentWillLoad() {\n    if (this.src) {\n      this.loadCustomIcon(this.src);\n    }\n\n    // Load icons from JSON if specified (instance prop or global config)\n    const jsonPath = this.jsonSrc || getIconConfig().jsonSrc;\n    if (jsonPath && !isJsonLoaded(jsonPath)) {\n      this.jsonLoading = true;\n      this.loadIconsFromJson(jsonPath);\n    }\n  }\n\n  componentWillRender() {\n    // Set default label before render to avoid \"state changed during rendering\" warning\n    if (!this.decorative && !this.label && this.name) {\n      this.label = `${this.name} icon`;\n    }\n  }\n\n  /**\n   * Load icons from JSON file\n   */\n  private async loadIconsFromJson(jsonPath: string): Promise<void> {\n    try {\n      const response = await fetch(jsonPath);\n      if (response.ok) {\n        const iconsData = await response.json();\n        registerIconsGlobal(iconsData);\n        markJsonLoaded(jsonPath);\n      }\n    } catch (error) {\n      console.error('[SageBox] Failed to load icons from:', jsonPath, error);\n    } finally {\n      this.jsonLoading = false;\n    }\n  }\n\n  /**\n   * Get the effective color (fill takes precedence over color for compatibility)\n   */\n  private getEffectiveColor(): string {\n    return this.fill ?? this.color;\n  }\n\n  /**\n   * Normalize icon name:\n   * - Removes 'icon-' prefix if present\n   * - Converts ':' to '-' (e.g., 'tabler:home' -> 'tabler-home')\n   */\n  private normalizeIconName(name: string): string {\n    let normalized = name.startsWith('icon-') ? name.slice(5) : name;\n    // Convert prefix:name format to prefix-name\n    normalized = normalized.replace(':', '-');\n    return normalized;\n  }\n\n  /**\n   * Get icon from user-registered icons or built-in icons\n   * User icons take priority over built-in icons\n   */\n  private getIcon(): IconDefinition | string | null {\n    if (this.name) {\n      const normalizedName = this.normalizeIconName(this.name);\n      const userIcons = getUserIcons();\n\n      // 1. Check user-registered icons first (priority)\n      if (userIcons[normalizedName]) {\n        return userIcons[normalizedName];\n      }\n      if (userIcons[this.name]) {\n        return userIcons[this.name];\n      }\n\n      // 2. Check built-in icons (minimal set)\n      if (builtinIcons[normalizedName]) {\n        return builtinIcons[normalizedName];\n      }\n      if (builtinIcons[this.name]) {\n        return builtinIcons[this.name];\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Check if the icon is an SVG string (user-provided) vs IconDefinition\n   */\n  private isSvgString(icon: IconDefinition | string): icon is string {\n    return typeof icon === 'string';\n  }\n\n  private normalizeSize(value: number | string): string {\n    if (typeof value === 'number') {\n      return `${value}px`;\n    }\n    // If it's a numeric string without units, add 'px'\n    if (/^\\d+(\\.\\d+)?$/.test(value)) {\n      return `${value}px`;\n    }\n    return value;\n  }\n\n  private getSize(dimension: 'width' | 'height'): string {\n    const value = dimension === 'width' ? (this.width ?? this.size) : (this.height ?? this.size);\n\n    return this.normalizeSize(value);\n  }\n\n  private getTransform(): string {\n    const transforms: string[] = [];\n\n    if (this.rotate) {\n      transforms.push(`rotate(${this.rotate}deg)`);\n    }\n\n    if (this.flipH || this.flipV) {\n      const scaleX = this.flipH ? -1 : 1;\n      const scaleY = this.flipV ? -1 : 1;\n      transforms.push(`scale(${scaleX}, ${scaleY})`);\n    }\n\n    return transforms.length > 0 ? transforms.join(' ') : '';\n  }\n\n  private renderSvgContent(icon: IconDefinition) {\n    const effectiveColor = this.getEffectiveColor();\n    return icon.paths.map(path => <path d={path} fill={effectiveColor} fill-rule={icon.fillRule || 'nonzero'} />);\n  }\n\n  private renderCustomSvg() {\n    if (!this.customSvg) return null;\n\n    // Parse the SVG and extract the inner content\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(this.customSvg, 'image/svg+xml');\n    const svg = doc.querySelector('svg');\n\n    if (!svg) return null;\n\n    // Clone the SVG content and apply our styles\n    const viewBox = svg.getAttribute('viewBox') || '0 0 24 24';\n    const svgContent = svg.innerHTML;\n\n    return (\n      <svg\n        viewBox={viewBox}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        style={{ fill: this.getEffectiveColor() }}\n        // Using innerHTML for custom SVG content\n        {...({ innerHTML: svgContent } as Record<string, string>)}\n      />\n    );\n  }\n\n  render() {\n    const icon = this.getIcon();\n    const width = this.getSize('width');\n    const height = this.getSize('height');\n    const transform = this.getTransform();\n\n    const effectiveColor = this.getEffectiveColor();\n\n    const hostStyle: { [key: string]: string } = {\n      width: width,\n      height: height,\n      '--icon-size': this.normalizeSize(this.size),\n      '--icon-width': width,\n      '--icon-height': height,\n      '--icon-color': effectiveColor,\n    };\n\n    if (transform) {\n      hostStyle['--icon-transform'] = transform;\n    }\n\n    const hostClasses = {\n      icon: true,\n      'icon--spin': this.spin,\n      'icon--custom': !!this.src,\n    };\n\n    // Accessibility attributes\n    const ariaHidden = this.decorative ? 'true' : undefined;\n    const role = this.decorative ? 'presentation' : 'img';\n\n    // 1. Render custom SVG from src\n    if (this.src && this.customSvg) {\n      return (\n        <Host class={hostClasses} style={hostStyle} aria-hidden={ariaHidden} role={role} aria-label={!this.decorative ? this.label : undefined}>\n          {this.renderCustomSvg()}\n        </Host>\n      );\n    }\n\n    // 2. No icon found - render error or nothing\n    if (!icon) {\n      // Log warning when icon is not found\n      if (this.name) {\n        const userIcons = getUserIcons();\n        const userIconCount = Object.keys(userIcons).length;\n        const builtinIconCount = Object.keys(builtinIcons).length;\n        console.warn(\n          `[SageBox] Icon \"${this.name}\" not found.`,\n          `\\n  - User icons loaded: ${userIconCount}`,\n          `\\n  - Builtin icons: ${builtinIconCount}`,\n          userIconCount > 0 ? `\\n  - Available user icons: ${Object.keys(userIcons).slice(0, 10).join(', ')}${userIconCount > 10 ? '...' : ''}` : '',\n          `\\n  - Available builtin icons: ${Object.keys(builtinIcons).slice(0, 10).join(', ')}...`\n        );\n      }\n      if (this.loadError) {\n        return (\n          <Host class={{ ...hostClasses, 'icon--error': true }} style={hostStyle}>\n            <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\" fill={effectiveColor} />\n            </svg>\n          </Host>\n        );\n      }\n      return null;\n    }\n\n    // 3. Render user-registered SVG string\n    if (this.isSvgString(icon)) {\n      return (\n        <Host\n          class={{ ...hostClasses, 'icon--user': true }}\n          style={hostStyle}\n          aria-hidden={ariaHidden}\n          role={role}\n          aria-label={!this.decorative ? this.label : undefined}\n        >\n          <div\n            class=\"svg-container\"\n            ref={el => {\n              if (el) el.innerHTML = icon;\n            }}\n          ></div>\n        </Host>\n      );\n    }\n\n    // 4. Render IconDefinition (built-in or user-registered)\n    return (\n      <Host class={hostClasses} style={hostStyle} aria-hidden={ariaHidden} role={role} aria-label={!this.decorative ? this.label : undefined}>\n        <svg viewBox={icon.viewBox || '0 0 24 24'} xmlns=\"http://www.w3.org/2000/svg\">\n          {this.renderSvgContent(icon)}\n        </svg>\n      </Host>\n    );\n  }\n}\n","/**\n * SageBox Skeleton Component Styles\n * ================================\n * Uses global design tokens from @sagebox/core\n */\n\n:host {\n  display: block;\n}\n\n.skeleton {\n  /* Use global tokens with fallbacks */\n  --skeleton-bg-start: var(--ui-color-neutral-200, #e2e8f0);\n  --skeleton-bg-mid: var(--ui-color-neutral-100, #f1f5f9);\n  --skeleton-bg-end: var(--ui-color-neutral-200, #e2e8f0);\n\n  background: linear-gradient(90deg, var(--skeleton-bg-start) 0%, var(--skeleton-bg-mid) 50%, var(--skeleton-bg-end) 100%);\n  background-size: 200% 100%;\n}\n\n/* Dark mode support */\n:host-context([data-theme='dark']) .skeleton,\n:host-context(.dark) .skeleton {\n  --skeleton-bg-start: var(--ui-color-neutral-700, #334155);\n  --skeleton-bg-mid: var(--ui-color-neutral-600, #475569);\n  --skeleton-bg-end: var(--ui-color-neutral-700, #334155);\n}\n\n/* Variants */\n.skeleton--text {\n  border-radius: var(--ui-radius-sm, 4px);\n}\n\n.skeleton--rect {\n  border-radius: var(--ui-radius-md, 8px);\n}\n\n.skeleton--circle {\n  border-radius: 50%;\n}\n\n/* Animations */\n@keyframes shimmer {\n  0% {\n    background-position: 200% 0;\n  }\n  100% {\n    background-position: -200% 0;\n  }\n}\n\n@keyframes pulse {\n  0%,\n  100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n\n.skeleton--shimmer {\n  animation: shimmer 2s ease-in-out infinite;\n}\n\n.skeleton--pulse {\n  animation: pulse 1.5s ease-in-out infinite;\n}\n","import { Component, Prop, h, Host } from '@stencil/core';\n\n/**\n * @component sg-skeleton\n * @description Skeleton loading placeholder component for SageBox\n *\n * @example\n * <sg-skeleton variant=\"text\" width=\"200px\" height=\"1rem\"></sg-skeleton>\n * <sg-skeleton variant=\"rect\" width=\"100%\" height=\"200px\"></sg-skeleton>\n * <sg-skeleton variant=\"circle\" width=\"48px\" height=\"48px\"></sg-skeleton>\n */\n@Component({\n  tag: 'sg-skeleton',\n  styleUrl: 'skeleton.css',\n  shadow: true,\n})\nexport class SgSkeleton {\n  /**\n   * The shape variant of the skeleton\n   * - text: Slightly rounded, good for text placeholders\n   * - rect: More rounded, good for cards/images\n   * - circle: Fully rounded, good for avatars\n   */\n  @Prop() variant: 'text' | 'rect' | 'circle' = 'text';\n\n  /**\n   * The width of the skeleton\n   * @default '100%'\n   */\n  @Prop() width: string = '100%';\n\n  /**\n   * The height of the skeleton\n   * @default '1rem'\n   */\n  @Prop() height: string = '1rem';\n\n  /**\n   * Animation type\n   * - shimmer: Gradient animation (default)\n   * - pulse: Opacity pulse animation\n   * - none: No animation\n   */\n  @Prop() animation: 'shimmer' | 'pulse' | 'none' = 'shimmer';\n\n  render() {\n    const classes = {\n      skeleton: true,\n      [`skeleton--${this.variant}`]: true,\n      [`skeleton--${this.animation}`]: this.animation !== 'none',\n    };\n\n    return (\n      <Host>\n        <div\n          class={classes}\n          style={{\n            width: this.width,\n            height: this.height,\n          }}\n          aria-busy=\"true\"\n          aria-live=\"polite\"\n        ></div>\n      </Host>\n    );\n  }\n}\n","/**\n * SageBox Theme Toggle Component\n * Uses global design tokens from @sagebox/core\n */\n\n:host {\n  display: inline-block;\n}\n\n.toggle {\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.25rem;\n  border: none;\n  border-radius: var(--ui-radius-md, 0.5rem);\n  background-color: var(--ui-bg-secondary, #f1f5f9);\n  color: var(--ui-text, #1e293b);\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.toggle:hover {\n  background-color: var(--ui-bg-tertiary, #e2e8f0);\n}\n\n.toggle:focus-visible {\n  outline: 2px solid var(--ui-accent, #3b82f6);\n  outline-offset: 2px;\n}\n\n/* Sizes */\n.toggle--sm {\n  padding: 0.375rem;\n  min-width: 2rem;\n  min-height: 2rem;\n}\n\n.toggle--md {\n  padding: 0.5rem;\n  min-width: 2.5rem;\n  min-height: 2.5rem;\n}\n\n.toggle--lg {\n  padding: 0.625rem;\n  min-width: 3rem;\n  min-height: 3rem;\n}\n\n/* Icons */\n.icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0.4;\n  transition:\n    opacity 0.2s ease,\n    transform 0.2s ease;\n}\n\n.icon--active {\n  opacity: 1;\n}\n\n.toggle--sm .icon svg {\n  width: 1rem;\n  height: 1rem;\n}\n\n.toggle--md .icon svg {\n  width: 1.25rem;\n  height: 1.25rem;\n}\n\n.toggle--lg .icon svg {\n  width: 1.5rem;\n  height: 1.5rem;\n}\n\n/* Sun icon - hidden in dark mode */\n.icon--sun {\n  position: absolute;\n  transform: scale(1) rotate(0deg);\n}\n\n:host([theme='dark']) .icon--sun,\n.toggle:has(.icon--moon.icon--active) .icon--sun {\n  transform: scale(0) rotate(-90deg);\n  opacity: 0;\n}\n\n/* Moon icon - hidden in light mode */\n.icon--moon {\n  position: absolute;\n  transform: scale(0) rotate(90deg);\n  opacity: 0;\n}\n\n:host([theme='dark']) .icon--moon,\n.toggle:has(.icon--moon.icon--active) .icon--moon {\n  transform: scale(1) rotate(0deg);\n  opacity: 1;\n}\n\n/* When resolved to dark */\n.icon--moon.icon--active {\n  transform: scale(1) rotate(0deg);\n  opacity: 1;\n}\n\n.icon--moon.icon--active ~ .icon--sun,\n.icon--sun:not(.icon--active) {\n  transform: scale(0) rotate(-90deg);\n  opacity: 0;\n}\n\n.icon--sun.icon--active {\n  transform: scale(1) rotate(0deg);\n  opacity: 1;\n}\n\n.icon--sun.icon--active ~ .icon--moon {\n  transform: scale(0) rotate(90deg);\n  opacity: 0;\n}\n\n/* System mode badge */\n.badge {\n  position: absolute;\n  bottom: -0.25rem;\n  right: -0.25rem;\n  font-size: 0.5625rem;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 0.025em;\n  padding: 0.125rem 0.3rem;\n  background-color: var(--ui-accent, #2563eb);\n  color: var(--ui-text-inverse, white);\n  border-radius: var(--ui-radius-sm, 0.25rem);\n  line-height: 1;\n}\n\n/* Dark theme adjustments */\n:host-context([data-theme='dark']) .toggle,\n:host([theme='dark']) .toggle {\n  background-color: var(--ui-bg-secondary, #334155);\n  color: var(--ui-text, #f1f5f9);\n}\n\n:host-context([data-theme='dark']) .toggle:hover,\n:host([theme='dark']) .toggle:hover {\n  background-color: var(--ui-bg-tertiary, #475569);\n}\n","import { Component, Prop, Event, EventEmitter, State, h, Watch } from '@stencil/core';\n\nexport type ThemeMode = 'light' | 'dark' | 'system';\n\n@Component({\n  tag: 'sg-theme-toggle',\n  styleUrl: 'theme-toggle.css',\n  shadow: true,\n})\nexport class SgThemeToggle {\n  /**\n   * The current theme mode\n   */\n  @Prop({ mutable: true, reflect: true }) theme: ThemeMode = 'system';\n\n  /**\n   * Size of the toggle button\n   */\n  @Prop() size: 'sm' | 'md' | 'lg' = 'md';\n\n  /**\n   * Internal state for the resolved theme (light or dark)\n   */\n  @State() resolvedTheme: 'light' | 'dark' = 'light';\n\n  /**\n   * Emitted when the theme changes\n   */\n  @Event() sgThemeChange: EventEmitter<ThemeMode>;\n\n  private mediaQuery: MediaQueryList | null = null;\n\n  connectedCallback() {\n    this.setupSystemThemeListener();\n    // Read current theme from document instead of applying our default\n    this.syncThemeFromDocument();\n    this.updateResolvedTheme();\n  }\n\n  disconnectedCallback() {\n    this.removeSystemThemeListener();\n  }\n\n  /**\n   * Sync component state with the current document theme\n   */\n  private syncThemeFromDocument() {\n    if (typeof document !== 'undefined') {\n      const currentTheme = document.documentElement.getAttribute('data-theme');\n      if (currentTheme === 'light' || currentTheme === 'dark') {\n        // If document already has a theme set, use it (don't override)\n        this.theme = currentTheme;\n      }\n    }\n  }\n\n  @Watch('theme')\n  onThemeChange() {\n    this.updateResolvedTheme();\n    this.applyThemeToDocument();\n  }\n\n  private setupSystemThemeListener() {\n    if (typeof window !== 'undefined' && window.matchMedia) {\n      this.mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n      this.mediaQuery.addEventListener('change', this.handleSystemThemeChange);\n    }\n  }\n\n  private removeSystemThemeListener() {\n    if (this.mediaQuery) {\n      this.mediaQuery.removeEventListener('change', this.handleSystemThemeChange);\n    }\n  }\n\n  private handleSystemThemeChange = () => {\n    if (this.theme === 'system') {\n      this.updateResolvedTheme();\n      this.applyThemeToDocument();\n    }\n  };\n\n  private updateResolvedTheme() {\n    if (this.theme === 'system') {\n      this.resolvedTheme = this.getSystemTheme();\n    } else {\n      this.resolvedTheme = this.theme;\n    }\n  }\n\n  private getSystemTheme(): 'light' | 'dark' {\n    if (typeof window !== 'undefined' && window.matchMedia) {\n      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    }\n    return 'light';\n  }\n\n  private applyThemeToDocument() {\n    if (typeof document !== 'undefined') {\n      document.documentElement.setAttribute('data-theme', this.resolvedTheme);\n    }\n  }\n\n  private cycleTheme = () => {\n    const modes: ThemeMode[] = ['light', 'dark', 'system'];\n    const currentIndex = modes.indexOf(this.theme);\n    const nextIndex = (currentIndex + 1) % modes.length;\n    this.theme = modes[nextIndex];\n    this.sgThemeChange.emit(this.theme);\n  };\n\n  private getSizeClass(): string {\n    return `toggle--${this.size}`;\n  }\n\n  render() {\n    return (\n      <button\n        type=\"button\"\n        class={`toggle ${this.getSizeClass()}`}\n        onClick={this.cycleTheme}\n        aria-label={`Current theme: ${this.theme}. Click to change.`}\n        title={`Theme: ${this.theme}`}\n      >\n        <span class={`icon icon--sun ${this.resolvedTheme === 'light' ? 'icon--active' : ''}`}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <circle cx=\"12\" cy=\"12\" r=\"5\" />\n            <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\" />\n            <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\" />\n            <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\" />\n            <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\" />\n            <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\" />\n            <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\" />\n            <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\" />\n            <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\" />\n          </svg>\n        </span>\n        <span class={`icon icon--moon ${this.resolvedTheme === 'dark' ? 'icon--active' : ''}`}>\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n          >\n            <path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\" />\n          </svg>\n        </span>\n        {this.theme === 'system' && <span class=\"badge\">auto</span>}\n      </button>\n    );\n  }\n}\n"],"names":[],"mappings":"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"}