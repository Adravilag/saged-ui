---
import ComponentLayout from '../../layouts/ComponentLayout.astro';
import DemoBox from '../../components/DemoBox.astro';
import Playground from '../../components/Playground.astro';

const props = [
  { name: 'variant', type: "'text' | 'rect' | 'circle'", default: "'text'", description: 'Forma del skeleton' },
  { name: 'width', type: 'string', default: "'100%'", description: 'Ancho del elemento' },
  { name: 'height', type: 'string', default: "'1rem'", description: 'Alto del elemento' },
  { name: 'animation', type: "'shimmer' | 'pulse' | 'none'", default: "'shimmer'", description: 'Tipo de animación de carga' },
];
---

<ComponentLayout
  title="Skeleton"
  tag="sg-skeleton"
  packageName="skeleton"
  description="Placeholders animados para contenido en carga. Mejora la experiencia de usuario mostrando la estructura del contenido mientras se cargan los datos."
  props={props}
>
  <Fragment slot="examples">
    <DemoBox label="Texto" code={`<sg-skeleton variant="text" width="200px" height="1rem"></sg-skeleton>
<sg-skeleton variant="text" width="150px" height="1rem"></sg-skeleton>
<sg-skeleton variant="text" width="180px" height="1rem"></sg-skeleton>`}>
      <div style="display: flex; flex-direction: column; gap: 0.5rem; width: 200px;">
        <sg-skeleton variant="text" width="100%" height="1rem"></sg-skeleton>
        <sg-skeleton variant="text" width="75%" height="1rem"></sg-skeleton>
        <sg-skeleton variant="text" width="90%" height="1rem"></sg-skeleton>
      </div>
    </DemoBox>

    <DemoBox label="Rectángulos" code={`<sg-skeleton variant="rect" width="120px" height="80px"></sg-skeleton>
<sg-skeleton variant="rect" width="160px" height="100px"></sg-skeleton>`}>
      <div style="display: flex; gap: 1rem; justify-content: center;">
        <sg-skeleton variant="rect" width="120px" height="80px"></sg-skeleton>
        <sg-skeleton variant="rect" width="160px" height="100px"></sg-skeleton>
      </div>
    </DemoBox>

    <DemoBox label="Círculos (Avatares)" code={`<sg-skeleton variant="circle" width="40px" height="40px"></sg-skeleton>
<sg-skeleton variant="circle" width="56px" height="56px"></sg-skeleton>
<sg-skeleton variant="circle" width="72px" height="72px"></sg-skeleton>`}>
      <div style="display: flex; gap: 1rem; align-items: center; justify-content: center;">
        <sg-skeleton variant="circle" width="40px" height="40px"></sg-skeleton>
        <sg-skeleton variant="circle" width="56px" height="56px"></sg-skeleton>
        <sg-skeleton variant="circle" width="72px" height="72px"></sg-skeleton>
      </div>
    </DemoBox>

    <DemoBox label="Animaciones" code={`<!-- Shimmer (default) -->
<sg-skeleton animation="shimmer" width="150px" height="60px"></sg-skeleton>

<!-- Pulse -->
<sg-skeleton animation="pulse" width="150px" height="60px"></sg-skeleton>

<!-- Sin animación -->
<sg-skeleton animation="none" width="150px" height="60px"></sg-skeleton>`}>
      <div style="display: flex; gap: 1rem; justify-content: center;">
        <div style="text-align: center;">
          <sg-skeleton animation="shimmer" variant="rect" width="120px" height="60px"></sg-skeleton>
          <small style="color: var(--text-muted); font-size: 0.625rem;">Shimmer</small>
        </div>
        <div style="text-align: center;">
          <sg-skeleton animation="pulse" variant="rect" width="120px" height="60px"></sg-skeleton>
          <small style="color: var(--text-muted); font-size: 0.625rem;">Pulse</small>
        </div>
        <div style="text-align: center;">
          <sg-skeleton animation="none" variant="rect" width="120px" height="60px"></sg-skeleton>
          <small style="color: var(--text-muted); font-size: 0.625rem;">None</small>
        </div>
      </div>
    </DemoBox>

    <DemoBox label="Ejemplo: Card en carga" code={`<div class="card-skeleton">
  <sg-skeleton variant="rect" width="100%" height="120px"></sg-skeleton>
  <sg-skeleton variant="text" width="80%"></sg-skeleton>
  <sg-skeleton variant="text" width="60%"></sg-skeleton>
</div>`}>
      <div style="background: var(--surface); border: 1px solid var(--border); border-radius: 8px; padding: 1rem; width: 200px;">
        <sg-skeleton variant="rect" width="100%" height="100px" style="margin-bottom: 0.75rem;"></sg-skeleton>
        <sg-skeleton variant="text" width="80%" style="margin-bottom: 0.5rem;"></sg-skeleton>
        <sg-skeleton variant="text" width="60%"></sg-skeleton>
      </div>
    </DemoBox>

    <div class="playground-section">
      <h3><sg-icon name="code" size="20"></sg-icon> Playground</h3>
      <p>Edita el código y ve los cambios en tiempo real:</p>
      <Playground 
        code={`<!-- Card skeleton -->
<div style="background: #1e293b; padding: 1rem; border-radius: 8px; width: 200px;">
  <sg-skeleton variant="circle" width="48px" height="48px"></sg-skeleton>
  <sg-skeleton variant="text" width="80%" style="margin-top: 0.75rem;"></sg-skeleton>
  <sg-skeleton variant="text" width="60%" style="margin-top: 0.5rem;"></sg-skeleton>
</div>`}
        height="180px"
      />
    </div>
  </Fragment>
    <div class="usage-block">
      <h3>Cuándo usar</h3>
      <ul>
        <li><strong>Carga de datos:</strong> Mientras se obtienen datos de una API</li>
        <li><strong>Imágenes:</strong> Mientras se cargan imágenes pesadas</li>
        <li><strong>Listas:</strong> Placeholder para items de lista</li>
        <li><strong>Cards:</strong> Estructura de tarjetas en carga</li>
      </ul>
    </div>

    <div class="usage-block">
      <h3>Mejores prácticas</h3>
      <ul>
        <li>Usa dimensiones similares al contenido real</li>
        <li>Mantén la estructura visual del layout final</li>
        <li>Evita demasiados skeletons en una misma vista</li>
        <li>Considera usar <code>animation="none"</code> si hay muchos elementos</li>
      </ul>
    </div>
  </Fragment>
</ComponentLayout>

<style>
  .usage-block {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-md);
    padding: 1.25rem;
  }
  .usage-block h3 { font-size: 0.875rem; font-weight: 600; margin: 0 0 0.75rem 0; }
  .usage-block ul { margin: 0; padding-left: 1.25rem; font-size: 0.875rem; color: var(--text-muted); line-height: 1.8; }
  .usage-block code { background: var(--accent-soft); color: var(--accent); padding: 0.125rem 0.375rem; border-radius: 3px; font-size: 0.8125rem; }

  .playground-section {
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--border-subtle);
  }
  .playground-section h3 { font-size: 1.125rem; margin-bottom: 0.5rem; }
  .playground-section p { color: var(--text-muted); font-size: 0.875rem; margin-bottom: 1rem; }
</style>
