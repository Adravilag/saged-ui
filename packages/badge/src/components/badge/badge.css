/**
 * SagedUI Badge Component
 * Versatile badge/tag with multiple variants and styles
 *
 * CSS Custom Properties for theming:
 * --sg-badge-bg, --sg-badge-color, --sg-badge-border-color
 * --sg-badge-radius, --sg-badge-font-weight
 */

:host {
  display: inline-flex;
  vertical-align: middle;
}

/* ═══════════════════════════════════════════════════════════════════════════
 * BASE BADGE
 * ═══════════════════════════════════════════════════════════════════════════ */

.badge {
  display: inline-flex;
  align-items: center;
  gap: 0.375em;
  font-family: var(--sg-font-family, 'Inter', system-ui, -apple-system, sans-serif);
  font-weight: var(--sg-badge-font-weight, 500);
  white-space: nowrap;
  border-radius: var(--sg-badge-radius, 0.375rem);
  border: 1px solid transparent;
  transition: all 0.15s ease;
}

/* ═══════════════════════════════════════════════════════════════════════════
 * SIZE VARIANTS
 * ═══════════════════════════════════════════════════════════════════════════ */

:host(.sg-badge--xs) .badge {
  padding: 0.125rem 0.375rem;
  font-size: 0.625rem;
  line-height: 1.2;
  gap: 0.25em;
}

:host(.sg-badge--sm) .badge {
  padding: 0.1875rem 0.5rem;
  font-size: 0.6875rem;
  line-height: 1.3;
}

:host(.sg-badge--md) .badge {
  padding: 0.25rem 0.625rem;
  font-size: 0.75rem;
  line-height: 1.4;
}

:host(.sg-badge--lg) .badge {
  padding: 0.375rem 0.875rem;
  font-size: 0.875rem;
  line-height: 1.4;
}

/* ═══════════════════════════════════════════════════════════════════════════
 * COLOR VARIANTS - Solid (default)
 * ═══════════════════════════════════════════════════════════════════════════ */

:host(.sg-badge--primary) .badge {
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
  color: white;
}

:host(.sg-badge--secondary) .badge {
  background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
  color: white;
}

:host(.sg-badge--success) .badge {
  background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
  color: white;
}

:host(.sg-badge--warning) .badge {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  color: #1e293b;
}

:host(.sg-badge--error) .badge {
  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  color: white;
}

:host(.sg-badge--info) .badge {
  background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
  color: white;
}

:host(.sg-badge--neutral) .badge {
  background: var(--sg-badge-neutral-bg, #4b5563);
  color: white;
}

:host(.sg-badge--purple) .badge {
  background: linear-gradient(135deg, #a855f7 0%, #9333ea 100%);
  color: white;
}

:host(.sg-badge--cyan) .badge {
  background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
  color: white;
}

/* ═══════════════════════════════════════════════════════════════════════════
 * SOFT/SUBTLE STYLE
 * ═══════════════════════════════════════════════════════════════════════════ */

:host(.sg-badge--soft.sg-badge--primary) .badge {
  background: rgba(59, 130, 246, 0.12);
  color: #2563eb;
}

:host(.sg-badge--soft.sg-badge--secondary) .badge {
  background: rgba(139, 92, 246, 0.12);
  color: #7c3aed;
}

:host(.sg-badge--soft.sg-badge--success) .badge {
  background: rgba(34, 197, 94, 0.12);
  color: #16a34a;
}

:host(.sg-badge--soft.sg-badge--warning) .badge {
  background: rgba(245, 158, 11, 0.12);
  color: #b45309;
}

:host(.sg-badge--soft.sg-badge--error) .badge {
  background: rgba(239, 68, 68, 0.12);
  color: #dc2626;
}

:host(.sg-badge--soft.sg-badge--info) .badge {
  background: rgba(14, 165, 233, 0.12);
  color: #0284c7;
}

:host(.sg-badge--soft.sg-badge--neutral) .badge {
  background: rgba(107, 114, 128, 0.12);
  color: #4b5563;
}

:host(.sg-badge--soft.sg-badge--purple) .badge {
  background: rgba(168, 85, 247, 0.12);
  color: #9333ea;
}

:host(.sg-badge--soft.sg-badge--cyan) .badge {
  background: rgba(6, 182, 212, 0.12);
  color: #0891b2;
}

/* ═══════════════════════════════════════════════════════════════════════════
 * OUTLINED STYLE
 * ═══════════════════════════════════════════════════════════════════════════ */

:host(.sg-badge--outlined) .badge {
  background: transparent;
}

:host(.sg-badge--outlined.sg-badge--primary) .badge {
  border-color: #3b82f6;
  color: #3b82f6;
}

:host(.sg-badge--outlined.sg-badge--secondary) .badge {
  border-color: #8b5cf6;
  color: #8b5cf6;
}

:host(.sg-badge--outlined.sg-badge--success) .badge {
  border-color: #22c55e;
  color: #22c55e;
}

:host(.sg-badge--outlined.sg-badge--warning) .badge {
  border-color: #f59e0b;
  color: #f59e0b;
}

:host(.sg-badge--outlined.sg-badge--error) .badge {
  border-color: #ef4444;
  color: #ef4444;
}

:host(.sg-badge--outlined.sg-badge--info) .badge {
  border-color: #0ea5e9;
  color: #0ea5e9;
}

:host(.sg-badge--outlined.sg-badge--neutral) .badge {
  border-color: #4b5563;
  color: #4b5563;
}

:host(.sg-badge--outlined.sg-badge--purple) .badge {
  border-color: #a855f7;
  color: #a855f7;
}

:host(.sg-badge--outlined.sg-badge--cyan) .badge {
  border-color: #06b6d4;
  color: #06b6d4;
}

/* ═══════════════════════════════════════════════════════════════════════════
 * PILL SHAPE
 * ═══════════════════════════════════════════════════════════════════════════ */

:host(.sg-badge--pill) .badge {
  border-radius: 9999px;
}

/* ═══════════════════════════════════════════════════════════════════════════
 * CLICKABLE STATE
 * ═══════════════════════════════════════════════════════════════════════════ */

:host(.sg-badge--clickable) .badge {
  cursor: pointer;
}

:host(.sg-badge--clickable) .badge:hover {
  filter: brightness(1.1);
  transform: translateY(-1px);
}

:host(.sg-badge--clickable) .badge:active {
  transform: translateY(0);
}

:host(.sg-badge--clickable.sg-badge--outlined) .badge:hover,
:host(.sg-badge--clickable.sg-badge--soft) .badge:hover {
  filter: none;
}

:host(.sg-badge--clickable.sg-badge--outlined) .badge:hover {
  background: currentColor;
  color: white;
}

/* ═══════════════════════════════════════════════════════════════════════════
 * STATUS DOT
 * ═══════════════════════════════════════════════════════════════════════════ */

.dot {
  position: relative;
  display: inline-block;
  width: 0.5em;
  height: 0.5em;
  border-radius: 50%;
  background: currentColor;
  flex-shrink: 0;
}

/* Pulse animation */
.dot-pulse {
  position: absolute;
  inset: -2px;
  border-radius: 50%;
  background: currentColor;
  opacity: 0.4;
  animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
  0%,
  100% {
    opacity: 0.4;
    transform: scale(1);
  }
  50% {
    opacity: 0;
    transform: scale(1.5);
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
 * ICON
 * ═══════════════════════════════════════════════════════════════════════════ */

.icon {
  display: inline-flex;
  align-items: center;
  flex-shrink: 0;
}

.icon:empty {
  display: none;
}

.icon ::slotted(*) {
  width: 1em;
  height: 1em;
}

/* ═══════════════════════════════════════════════════════════════════════════
 * CONTENT
 * ═══════════════════════════════════════════════════════════════════════════ */

.content {
  display: inline-flex;
  align-items: center;
}

/* ═══════════════════════════════════════════════════════════════════════════
 * DARK MODE
 * ═══════════════════════════════════════════════════════════════════════════ */

@media (prefers-color-scheme: dark) {
  :host(.sg-badge--soft.sg-badge--primary) .badge {
    background: rgba(59, 130, 246, 0.2);
    color: #60a5fa;
  }

  :host(.sg-badge--soft.sg-badge--secondary) .badge {
    background: rgba(139, 92, 246, 0.2);
    color: #a78bfa;
  }

  :host(.sg-badge--soft.sg-badge--success) .badge {
    background: rgba(34, 197, 94, 0.2);
    color: #4ade80;
  }

  :host(.sg-badge--soft.sg-badge--warning) .badge {
    background: rgba(245, 158, 11, 0.2);
    color: #fbbf24;
  }

  :host(.sg-badge--soft.sg-badge--error) .badge {
    background: rgba(239, 68, 68, 0.2);
    color: #f87171;
  }

  :host(.sg-badge--soft.sg-badge--info) .badge {
    background: rgba(14, 165, 233, 0.2);
    color: #38bdf8;
  }

  :host(.sg-badge--soft.sg-badge--neutral) .badge {
    background: rgba(156, 163, 175, 0.2);
    color: #d1d5db;
  }

  :host(.sg-badge--soft.sg-badge--purple) .badge {
    background: rgba(168, 85, 247, 0.2);
    color: #c084fc;
  }

  :host(.sg-badge--soft.sg-badge--cyan) .badge {
    background: rgba(6, 182, 212, 0.2);
    color: #22d3ee;
  }
}

/* Dark theme attribute support */
:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--primary .badge,
:host-context(.dark) .sg-badge--soft.sg-badge--primary .badge {
  background: rgba(59, 130, 246, 0.2);
  color: #60a5fa;
}

:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--secondary .badge,
:host-context(.dark) .sg-badge--soft.sg-badge--secondary .badge {
  background: rgba(139, 92, 246, 0.2);
  color: #a78bfa;
}

:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--success .badge,
:host-context(.dark) .sg-badge--soft.sg-badge--success .badge {
  background: rgba(34, 197, 94, 0.2);
  color: #4ade80;
}

:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--warning .badge,
:host-context(.dark) .sg-badge--soft.sg-badge--warning .badge {
  background: rgba(245, 158, 11, 0.2);
  color: #fbbf24;
}

:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--error .badge,
:host-context(.dark) .sg-badge--soft.sg-badge--error .badge {
  background: rgba(239, 68, 68, 0.2);
  color: #f87171;
}

:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--info .badge,
:host-context(.dark) .sg-badge--soft.sg-badge--info .badge {
  background: rgba(14, 165, 233, 0.2);
  color: #38bdf8;
}

:host-context([data-theme='dark']) .sg-badge--soft.sg-badge--neutral .badge,
:host-context(.dark) .sg-badge--soft.sg-badge--neutral .badge {
  background: rgba(156, 163, 175, 0.2);
  color: #d1d5db;
}
